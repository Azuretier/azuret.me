"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([[43295],{409:(e,t,a)=>{a.d(t,{C:()=>l});var n=a(74848),s=a(16522),i=a(84268);function l(){let e,t=(0,s.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)("div",{className:"CopilotDisclosure-module__copilotDisclosure--zmVyM",children:(0,n.jsxs)("p",{className:"CopilotDisclosure-module__copilotDisclosureText--CwBvV",children:[(0,n.jsx)(i.A,{href:"https://docs.github.com/copilot/responsible-use/copilot-coding-agent",target:"_blank",rel:"noopener noreferrer",muted:!0,inline:!0,children:"Copilot"})," ","uses AI. Check for mistakes."]})}),t[0]=e):e=t[0],e}try{l.displayName||(l.displayName="CopilotDisclosure")}catch{}},894:(e,t,a)=>{a.d(t,{L:()=>i,M:()=>s});var n=a(96540);let s=(0,n.createContext)(null);function i(){let e=(0,n.useContext)(s);if(!e)throw Error("useLayoutContext must be used within a Layout component");return e}},4007:(e,t,a)=>{a.d(t,{N:()=>c});var n=a(74848),s=a(16522),i=a(53419),l=a(38621),r=a(73783),o=a(21373);function c(e){let t,a,o,c,u,m=(0,s.c)(20),{pullUrl:h,taskId:p,repoNwo:_,baseRef:f,headRef:g}=e;m[0]!==h||m[1]!==p?(t=()=>{(0,i.BI)("agent_sessions.task_view",{target:"VIEW_PULL_REQUEST_BUTTON",pull_url:h,task_id:p})},m[0]=h,m[1]=p,m[2]=t):t=m[2];let y=t;m[3]!==h||m[4]!==p?(a=()=>{(0,i.BI)("agent_sessions.task_view",{target:"VIEW_PULL_REQUEST_DIFF_BUTTON",pull_url:h,task_id:p})},m[3]=h,m[4]=p,m[5]=a):a=m[5];let x=a;m[6]!==p?(o=()=>{(0,i.BI)("agent_sessions.task_view",{target:"CREATE_PULL_REQUEST_BUTTON",task_id:p})},m[6]=p,m[7]=o):o=m[7];let b=o;m[8]!==f||m[9]!==g||m[10]!==_?(c=()=>`/${_}/compare/${f}...${g}`,m[8]=f,m[9]=g,m[10]=_,m[11]=c):c=m[11];let v=c;return m[12]!==f||m[13]!==v||m[14]!==b||m[15]!==x||m[16]!==y||m[17]!==g||m[18]!==h?(u=h?(0,n.jsxs)(r.A,{children:[(0,n.jsx)(d,{url:h,icon:(0,n.jsx)(l.GitPullRequestIcon,{}),onClick:y,label:"View pull request"}),(0,n.jsx)(d,{url:`${h}/files`,icon:(0,n.jsx)(l.FileDiffIcon,{className:"PullRequestButton-module__diffIcon--ZZbp4"}),onClick:x,ariaLabel:"View pull request files"})]}):f&&g?(0,n.jsx)(d,{url:v(),icon:(0,n.jsx)(l.GitPullRequestIcon,{className:"hide-sm"}),onClick:b,label:"Create pull request"}):null,m[12]=f,m[13]=v,m[14]=b,m[15]=x,m[16]=y,m[17]=g,m[18]=h,m[19]=u):u=m[19],u}function d(e){let t,a=(0,s.c)(6),{url:i,icon:l,onClick:r,label:c,ariaLabel:d}=e,u=d||c;return a[0]!==l||a[1]!==c||a[2]!==r||a[3]!==u||a[4]!==i?(t=(0,n.jsx)(o.Q,{className:"PullRequestButton-module__button--EAN4N",as:"a",href:i,target:"_self",leadingVisual:l,variant:"primary",size:"small",onClick:r,"aria-label":u,children:c}),a[0]=l,a[1]=c,a[2]=r,a[3]=u,a[4]=i,a[5]=t):t=a[5],t}try{c.displayName||(c.displayName="PullRequestButton")}catch{}try{d.displayName||(d.displayName="ButtonComponent")}catch{}},7554:(e,t,a)=>{a.d(t,{eU:()=>I,oR:()=>C,SI:()=>T,T$:()=>L});var n=a(74848),s=a(16522),i=a(69599),l=a(53419),r=a(10422),o=a(71205),c=a(29607),d=a(3433),u=a(38621),m=a(94236),h=a(26108),p=a(5524),_=a(96540),f=a(97189),g=a(76977),y=a(93654),x=a(47723),b=a(95254),v=a(62189),j=a(10701);let N="TaskList-module__dotFillIcon--x5Tte";function C(e){let t,a=(0,s.c)(5),{viewAllLink:i,showTitle:l,trailingAction:r,onTaskClick:o}=e;return a[0]!==o||a[1]!==l||a[2]!==r||a[3]!==i?(t=(0,n.jsx)(f.Fn,{children:(0,n.jsx)(S,{viewAllLink:i,showTitle:l,trailingAction:r,onTaskClick:o})}),a[0]=o,a[1]=l,a[2]=r,a[3]=i,a[4]=t):t=a[4],t}function S(e){let t,a,i,l,r,o,u,m,h,p=(0,s.c)(27),{viewAllLink:_,showTitle:f,trailingAction:x,onTaskClick:b}=e,j=(0,d.zy)(),{tasks:N,isLoading:C}=(0,y.si)();if((0,g._)(),p[0]!==C||p[1]!==j||p[2]!==b||p[3]!==f||p[4]!==N||p[5]!==x){let e,s,d=N.filter(w).slice(0,5);a=0===d.length,p[13]===Symbol.for("react.memo_cache_sentinel")?(e=(0,v.zI)(),p[13]=e):e=p[13];let m=e;t=c.s,i=f?"Agent sessions":void 0,l=a,r=C,o=x,p[14]!==j||p[15]!==b?(s=e=>{let t=(0,v.t$)(e.resource_global_id??"",e.pull?.repository_nwo??"",e.pull?.number??0),a=j.pathname===t;return(0,n.jsx)(I,{task:e,href:t,isSelected:a,reloadDocument:m,secondaryText:e.nwo??e.pull?.repository_nwo??"Initializing...",onTaskClick:b},e.resource_id)},p[14]=j,p[15]=b,p[16]=s):s=p[16],u=d.map(s),p[0]=C,p[1]=j,p[2]=b,p[3]=f,p[4]=N,p[5]=x,p[6]=t,p[7]=a,p[8]=i,p[9]=l,p[10]=r,p[11]=o,p[12]=u}else t=p[6],a=p[7],i=p[8],l=p[9],r=p[10],o=p[11],u=p[12];p[17]!==t||p[18]!==i||p[19]!==l||p[20]!==r||p[21]!==o||p[22]!==u?(m=(0,n.jsx)(t,{title:i,isEmpty:l,isLoading:r,trailingAction:o,children:u}),p[17]=t,p[18]=i,p[19]=l,p[20]=r,p[21]=o,p[22]=u,p[23]=m):m=p[23];let S=!a&&_;return p[24]!==m||p[25]!==S?(h=(0,n.jsxs)(n.Fragment,{children:[m,S]}),p[24]=m,p[25]=S,p[26]=h):h=p[26],h}function w(e){return T(e)}function I(e){let t,a,c,d,f,g,y,v,C=(0,s.c)(27),{task:S,href:w,isSelected:I,secondaryText:T,reloadDocument:L,onTaskClick:E}=e,A=(0,_.useRef)(null);C[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,i.G7)("copilot_immersive_task_hyperlinking"),C[0]=t):t=C[0];let O=t;C[1]!==S.pull?(a=()=>{(0,l.BI)("dotcom_chat.activate",{target:"TASK_ACTION_VIEW_PR",mode:"immersive"}),S.pull?.url&&(window.location.href=S.pull.url)},C[1]=S.pull,C[2]=a):a=C[2];let $=a;C[3]!==S.event_identifiers?(c=()=>{(0,l.BI)("dotcom_chat.activate",{target:"TASK_ACTION_GO_TO_CONVERSATION",mode:"immersive"});let e=(0,b.L)(S.event_identifiers);e&&(window.location.href=`/copilot/c/${e}`)},C[3]=S.event_identifiers,C[4]=c):c=C[4];let R=c,D=!!S.pull,P=S.event_type===x.qY&&O,H=D||P;C[5]!==R||C[6]!==$||C[7]!==H||C[8]!==P||C[9]!==D?(d=H?(0,n.jsxs)(m.W,{anchorRef:A,children:[(0,n.jsx)(m.W.Anchor,{children:(0,n.jsx)(h.K,{icon:u.KebabHorizontalIcon,"aria-label":"Manage session",variant:"invisible",onClick:k})}),(0,n.jsx)(m.W.Overlay,{children:(0,n.jsxs)(p.l,{children:[D&&(0,n.jsx)(p.l.Item,{onSelect:$,children:"View pull request"}),P&&(0,n.jsx)(p.l.Item,{onSelect:R,children:"Go to parent conversation"})]})})]}):void 0,C[5]=R,C[6]=$,C[7]=H,C[8]=P,C[9]=D,C[10]=d):d=C[10];let q=d;return C[11]!==S?(f=(0,j.YP)(S),C[11]=S,C[12]=f):f=C[12],C[13]!==S?(g=()=>(function(e){let t=e.latest_session_state,a=e.pull?.state;if("queued"===t)return(0,n.jsx)(u.ClockIcon,{className:"TaskList-module__clockIcon--kx3d1"});if("open"===a||!a){if("waiting_for_user"===t||"completed"===t)return(0,n.jsx)(u.CheckCircleFillIcon,{className:"TaskList-module__checkCircleIcon--fj_E_"});if("failed"===t||"timed_out"===t)return(0,n.jsx)(u.StopIcon,{className:"TaskList-module__stopIcon--O5nlX"});if("in_progress"===t)return(0,n.jsx)(r.gX,{animated:!0});if("idle"===t)return(0,n.jsx)(u.DotFillIcon,{className:N});if("cancelled"===t)return(0,n.jsx)(u.SkipIcon,{className:"TaskList-module__skipIcon--niuIE"})}return(0,n.jsx)(u.DotFillIcon,{className:N})})(S),C[13]=S,C[14]=g):g=C[14],C[15]!==E||C[16]!==S.resource_global_id?(y=()=>{E?.(),(0,l.BI)("agent_sessions.task_view",{target:"VIEW_TASK_FROM_MISSION_CONTROL",task_id:S.resource_global_id})},C[15]=E,C[16]=S.resource_global_id,C[17]=y):y=C[17],C[18]!==w||C[19]!==I||C[20]!==L||C[21]!==T||C[22]!==f||C[23]!==g||C[24]!==y||C[25]!==q?(v=(0,n.jsx)(o.W,{href:w,text:f,leadingVisual:g,isSelected:I,trailingAction:q,secondaryText:T,reloadDocument:L,onClick:y}),C[18]=w,C[19]=I,C[20]=L,C[21]=T,C[22]=f,C[23]=g,C[24]=y,C[25]=q,C[26]=v):v=C[26],v}function k(){return(0,l.BI)("dotcom_chat.activate",{target:"TASK_CONTEXT_MENU",mode:"immersive"})}function T(e){return!e.pull||"merged"!==e.pull.state&&"closed"!==e.pull.state}function L(e){return!!e.isOptimistic}try{C.displayName||(C.displayName="TasksListWrapper")}catch{}try{S.displayName||(S.displayName="TasksList")}catch{}try{I.displayName||(I.displayName="TaskListEntry")}catch{}},13038:(e,t,a)=>{a.d(t,{Q:()=>r,i:()=>o});var n=a(74848),s=a(16522),i=a(96540);let l=i.createContext(void 0);function r(e){let t,a,i=(0,s.c)(8),{currentUser:r,currentUserIsSessionOwner:o,optedInToFeedback:c,children:d}=e,u=void 0!==c&&c,m=!o;i[0]!==r||i[1]!==o||i[2]!==m||i[3]!==u?(t={currentUser:r,currentUserIsSessionOwner:o,isSingleSessionView:m,optedInToFeedback:u},i[0]=r,i[1]=o,i[2]=m,i[3]=u,i[4]=t):t=i[4];let h=t;return i[5]!==d||i[6]!==h?(a=(0,n.jsxs)(l,{value:h,children:[" ",d," "]}),i[5]=d,i[6]=h,i[7]=a):a=i[7],a}function o(){let e=i.useContext(l);if(!e)throw Error("useCurrentUser must be used within a CurrentUserProvider");return e}try{l.displayName||(l.displayName="CurrentUserContext")}catch{}try{r.displayName||(r.displayName="CurrentUserProvider")}catch{}},13107:(e,t,a)=>{a.d(t,{NF:()=>y,QS:()=>h,VO:()=>f,wW:()=>x});var n=a(74848),s=a(73017),i=a(96379),l=a(84268),r=a(82156),o=a(5524),c=a(96540),d=a(75202),u=a(65510),m=a(40493);function h(e,t){let a=encodeURIComponent(t);return`/codespaces?codespace%5Bref%5D=${a}&current_branch=${a}&event_target=REPO_PAGE&repo=${e}`}function p(e){return(0,n.jsxs)("span",{children:["An unexpected error occurred. Please"," ",(0,n.jsx)(l.A,{inline:!0,href:e,children:"contact support"})," ","for more information."]})}function _({header:e,message:t}){return(0,n.jsxs)("div",{className:"blankslate",children:[(0,n.jsx)("p",{className:"fgColor-default text-bold mb-1",children:e}),(0,n.jsx)("p",{className:"mt-2 mx-4",children:t})]})}function f({children:e}){return(0,n.jsx)("div",{className:"d-flex flex-justify-center",children:(0,n.jsx)(d.t,{fallback:(0,n.jsx)(_,{header:"Codespaces data failed to load.",message:"Refresh the page and try again."}),children:(0,n.jsx)(c.Suspense,{fallback:(0,n.jsxs)("div",{role:"status",className:m.A.CodespacesSkeletonWrapper,"aria-busy":!0,"aria-label":"Loading Codespaces",children:[(0,n.jsx)("div",{className:m.A.SkeletonLoaderWrapper,children:(0,n.jsx)(r.f,{width:"100%",height:"var(--base-size-32)"})}),(0,n.jsx)(o.l.Divider,{}),(0,n.jsx)("div",{className:m.A.SkeletonLoaderWrapper,children:(0,n.jsx)(r.f,{width:"100%",height:"var(--base-size-64)"})}),(0,n.jsx)(o.l.Divider,{}),(0,n.jsx)("div",{className:m.A.SkeletonLoaderWrapper,children:(0,n.jsx)(r.f,{width:"100%",height:"var(--base-size-32)"})})]}),children:e})})})}function g({codespacesPath:e}){let{data:t}=(0,u.U)({queryKey:["CodespacesTabContent.content",e],queryFn:async()=>{let t=await (0,i.QJ)(e);if(t.status>=400&&t.status<=499)return"";if(!t.ok)throw Error(`HTTP ${t.status}`);return await t.text()}});return(0,n.jsx)(s.vb,{className:"width-full",html:t})}function y(e){let{hasAccessToCodespaces:t,repoPolicyInfo:a,contactPath:s,currentUserIsEnterpriseManaged:i,enterpriseManagedBusinessName:r,newCodespacePath:o,codespacesPath:c,isLoggedIn:d}=e;if(!t){if(!d)return(0,n.jsx)(_,{header:"Sign in required",message:(0,n.jsxs)("span",{children:["Please"," ",(0,n.jsx)(l.A,{inline:!0,href:o,children:"sign in"})," ","to use Codespaces."]})});if(a?.allowed)if(!a?.changesWouldBeSafe)return(0,n.jsx)(_,{header:"Repository access limited",message:(0,n.jsx)("span",{children:"You do not have access to push to this repository and its owner has disabled forking."})});else return(0,n.jsx)(_,{header:"Codespace access limited",message:p(s)});{let e=null;return e=!a?.canBill&&i?(0,n.jsxs)("span",{children:[(0,n.jsx)(l.A,{href:"https://docs.github.com/enterprise-cloud@latest/admin/identity-and-access-management/using-enterprise-managed-users-for-iam/about-enterprise-managed-users",children:"Enterprise-managed users"}),` must have their Codespaces usage paid for by ${r||"their enterprise"}.`]}):a?.hasIpAllowLists?(0,n.jsxs)("span",{children:["Your organization or enterprise enforces"," ",(0,n.jsx)(l.A,{inline:!0,href:"https://docs.github.com/enterprise-cloud@latest/organizations/keeping-your-organization-secure/managing-security-settings-for-your-organization/managing-allowed-ip-addresses-for-your-organization",children:"IP allow lists"})," ","which are unsupported by Codespaces at this time."]}):a?.disabledByBusiness?(0,n.jsx)("span",{children:"Your enterprise has disabled Codespaces at this time. Please contact your enterprise administrator for more information."}):a?.disabledByOrganization?(0,n.jsx)("span",{children:"Your organization has disabled Codespaces on this repository. Please contact your organization administrator for more information."}):p(s),(0,n.jsx)(_,{header:"Codespace access limited",message:e})}}return(0,n.jsx)(g,{codespacesPath:c})}function x(e){return(0,n.jsx)(f,{children:(0,n.jsx)(y,{...e})})}try{_.displayName||(_.displayName="ErrorMessage")}catch{}try{f.displayName||(f.displayName="CodespacesTabWrapper")}catch{}try{g.displayName||(g.displayName="ServerRenderedCodespacesTabContent")}catch{}try{y.displayName||(y.displayName="CodespacesTabContent")}catch{}try{x.displayName||(x.displayName="CodespacesTab")}catch{}},13814:(e,t,a)=>{a.d(t,{J:()=>DiffSelectedLineEvent,L:()=>DiffAddCommentButtonClickedEvent});var n=a(50467);let DiffAddCommentButtonClickedEvent=class DiffAddCommentButtonClickedEvent extends Event{constructor(e,t){super("DiffAddCommentButtonClickedEvent",{bubbles:!0,cancelable:!0,composed:!0}),(0,n._)(this,"endLineNumber",void 0),(0,n._)(this,"endOrientation",void 0),(0,n._)(this,"filePath",void 0),(0,n._)(this,"startOrientation",void 0),(0,n._)(this,"startLineNumber",void 0),this.startLineNumber=e.startLineNumber,this.endLineNumber=e.endLineNumber,this.startOrientation=e.startOrientation,this.endOrientation=e.endOrientation,this.filePath=t}};let DiffSelectedLineEvent=class DiffSelectedLineEvent extends Event{constructor(e,t){super("DiffSelectedLineEvent",{bubbles:!0,cancelable:!0,composed:!0}),(0,n._)(this,"endLineNumber",void 0),(0,n._)(this,"endOrientation",void 0),(0,n._)(this,"filePath",void 0),(0,n._)(this,"startOrientation",void 0),(0,n._)(this,"startLineNumber",void 0),this.startLineNumber=e.startLineNumber,this.endLineNumber=e.endLineNumber,this.startOrientation=e.startOrientation,this.endOrientation=e.endOrientation,this.filePath=t}}},16070:(e,t,a)=>{a.d(t,{Y0:()=>R,$I:()=>$,kR:()=>D});var n=a(74848),s=a(31315),i=a(79634),l=a(3433),r=a(82518),o=a(30459),c=a(51587),d=a(38621),u=a(11680),m=a(96540),h=a(16522),p=a(84268),_=a(57387);let f=30,g=[{id:"one-day",text:"One day",days:1},{id:"one-week",text:"One week",days:7},{id:"one-month",text:"One month",days:f},{id:"one-year",text:"One year",days:365}],y=()=>g.findIndex(e=>e.days===f);function x(e){let t,a,s,i=(0,h.c)(7),{ssoOrgs:l}=e;if(1===l.length){let e,t=l[0],a=t?.name;return i[0]!==a?(e=(0,n.jsxs)("p",{children:["You are dismissing single sign-on prompts for the ",a," organization on this device."]}),i[0]=a,i[1]=e):e=i[1],e}return i[2]===Symbol.for("react.memo_cache_sentinel")?(t=(0,n.jsx)("p",{children:"You are dismissing single sign-on prompts for the following organizations on this device:"}),i[2]=t):t=i[2],i[3]!==l?(a=l.map(b),i[3]=l,i[4]=a):a=i[4],i[5]!==a?(s=(0,n.jsxs)(n.Fragment,{children:[t,(0,n.jsx)("ul",{className:"GlobalSSOBanner-module__dismissedOrgList--Jkrx7",children:a})]}),i[5]=a,i[6]=s):s=i[6],s}function b(e){return(0,n.jsx)("li",{children:e.name},e.id)}try{x.displayName||(x.displayName="DismissalSummary")}catch{}var v=a(94236),j=a(5524),N=a(46251);function C(e){let t,a,s,i,l,r=(0,h.c)(11),{selectedDurationIndex:o,onDurationChange:c}=e,u=g[o];r[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,n.jsx)("span",{id:"dismissal-duration-label",children:"Remind me again in"}),r[0]=t):t=r[0];let m=u?.text||"Pick duration";return r[1]!==m?(a=(0,n.jsx)(v.W.Button,{trailingAction:d.TriangleDownIcon,"aria-labelledby":"dismissal-duration-label",children:m}),r[1]=m,r[2]=a):a=r[2],r[3]!==c||r[4]!==o?(s=g.map((e,t)=>(0,n.jsx)(j.l.Item,{role:"menuitemradio",selected:t===o,"aria-checked":t===o,onSelect:()=>c(t),children:e.text},e.id)),r[3]=c,r[4]=o,r[5]=s):s=r[5],r[6]!==s?(i=(0,n.jsx)(v.W.Overlay,{children:(0,n.jsx)(j.l,{selectionVariant:"single",role:"menu","aria-labelledby":"dismissal-duration-label",children:s})}),r[6]=s,r[7]=i):i=r[7],r[8]!==a||r[9]!==i?(l=(0,n.jsxs)(N.B,{align:"center",direction:"horizontal",className:"GlobalSSOBanner-module__durationSelector--DOJjX",children:[t,(0,n.jsxs)(v.W,{children:[a,i]})]}),r[8]=a,r[9]=i,r[10]=l):l=r[10],l}try{C.displayName||(C.displayName="DurationMenu")}catch{}function S(e){let t,a,s,i,l,r,o,c,d,u,b=(0,h.c)(23),{isOpen:v,onClose:j,onConfirm:N,ssoOrgs:S}=e,[w,I]=m.useState(y);b[0]!==v?(t=()=>{v&&I(y())},a=[v],b[0]=v,b[1]=t,b[2]=a):(t=b[1],a=b[2]),m.useEffect(t,a),b[3]!==N||b[4]!==w?(s=()=>{let e=g[w];N(e?.days??f)},b[3]=N,b[4]=w,b[5]=s):s=b[5];let k=s;return v?(b[6]!==j?(i={buttonType:"default",content:"Cancel",onClick:j},b[6]=j,b[7]=i):i=b[7],b[8]!==k?(l={buttonType:"primary",content:"Confirm",onClick:k},b[8]=k,b[9]=l):l=b[9],b[10]!==i||b[11]!==l?(r=[i,l],b[10]=i,b[11]=l,b[12]=r):r=b[12],b[13]!==S?(o=(0,n.jsx)(x,{ssoOrgs:S}),b[13]=S,b[14]=o):o=b[14],b[15]!==w?(c=(0,n.jsx)(C,{selectedDurationIndex:w,onDurationChange:I}),b[15]=w,b[16]=c):c=b[16],b[17]===Symbol.for("react.memo_cache_sentinel")?(d=(0,n.jsxs)("p",{children:["To sign into any of your SSO organizations, visit the"," ",(0,n.jsx)(p.A,{href:"/settings/organizations",inline:!0,children:"SSO settings page."})]}),b[17]=d):d=b[17],b[18]!==j||b[19]!==r||b[20]!==o||b[21]!==c?(u=(0,n.jsxs)(_.l,{title:"Dismiss SSO Banner",width:"medium",height:"auto",onClose:j,footerButtons:r,children:[o,c,d]}),b[18]=j,b[19]=r,b[20]=o,b[21]=c,b[22]=u):u=b[22],u):null}try{S.displayName||(S.displayName="ConfirmationDialog")}catch{}function w({children:e,hidden:t}){let[a,s]=m.useState("visible"),i=m.useRef(null),l=m.useRef(void 0);return(m.useEffect(()=>{if(t&&"visible"===a){s("collapsing");let e=i.current;if(e){let t=e.getBoundingClientRect().height;l.current=t,e.style.height=`${t}px`}}else if("collapsing"===a){let e=setTimeout(()=>{s("hidden")},300);return()=>{clearTimeout(e)}}},[t,a]),"hidden"===a)?null:(0,n.jsx)("div",{ref:i,style:{height:"visible"===a?l.current??"auto":0},className:"GlobalSSOBanner-module__bannerOuterWrapper--fyxDF",children:(0,n.jsx)("div",{className:"GlobalSSOBanner-module__bannerInnerWrapper--butqf",style:{transform:"visible"===a?void 0:`translateY(-${l.current??0}px)`},children:e})})}try{300..displayName||(300..displayName="ANIMATION_DURATION")}catch{}try{w.displayName||(w.displayName="SlideDismiss")}catch{}var I=a(77430),k=a(21373),T=a(79988);function L(e,t){let a=`/orgs/${encodeURIComponent(e)}/sso`,n=t.pathname+t.search+t.hash;return`${a}?return_to=${encodeURIComponent(n)}`}function E(e){let t,a,s,i,l,r=(0,h.c)(20),{ssoOrgs:c,redirectLocation:d}=e,{sendClickAnalyticsEvent:u}=(0,o.S)();if(0===c.length)return null;r[0]!==u?(t=()=>{u({category:T.c$,action:"click_single_sso_button",label:"sso_authentication"})},r[0]=u,r[1]=t):t=r[1];let m=t;r[2]!==u?(a=e=>{u({category:T.c$,action:"click_sso_dropdown_item",label:`org:${e}`})},r[2]=u,r[3]=a):a=r[3];let p=a;if(1===c.length){let e,t,a=c[0];return void 0===a?null:(r[4]!==a.login||r[5]!==d?(e=L(a.login,d),r[4]=a.login,r[5]=d,r[6]=e):e=r[6],r[7]!==m||r[8]!==e?(t=(0,n.jsx)(k.Q,{as:"a",href:e,onClick:m,children:"Single sign-on"}),r[7]=m,r[8]=e,r[9]=t):t=r[9],t)}if(r[10]===Symbol.for("react.memo_cache_sentinel")?(s=(0,n.jsx)(v.W.Button,{size:"small",children:"Single sign-on"}),r[10]=s):s=r[10],r[11]!==p||r[12]!==d||r[13]!==c){let e;r[15]!==p||r[16]!==d?(e=e=>(0,n.jsxs)(j.l.LinkItem,{href:L(e.login,d),onClick:()=>p(e.name),children:[e.avatar_url&&(0,n.jsx)(j.l.LeadingVisual,{children:(0,n.jsx)(I.r,{size:24,src:e.avatar_url})}),e.name]},e.login),r[15]=p,r[16]=d,r[17]=e):e=r[17],i=c.map(e),r[11]=p,r[12]=d,r[13]=c,r[14]=i}else i=r[14];return r[18]!==i?(l=(0,n.jsxs)(v.W,{children:[s,(0,n.jsx)(v.W.Overlay,{children:(0,n.jsx)(j.l,{children:i})})]}),r[18]=i,r[19]=l):l=r[19],l}try{E.displayName||(E.displayName="SSOActionMenu")}catch{}function A(){let e=(0,s.Ri)(T.z4);if(e?.value)try{let t=JSON.parse(e.value);return Array.isArray(t)?t:[]}catch(e){(0,s.Yj)(T.z4)}return[]}function O(e){return"object"==typeof e&&null!==e&&"id"in e&&"name"in e&&"login"in e}function $({ssoOrgs:e}){let t=(0,l.zy)(),[a,i]=m.useState("visible"),[c,h]=m.useState(!1),p=m.useRef(!1),{sendClickAnalyticsEvent:_}=(0,o.S)();return(m.useEffect(()=>{!p.current&&e.length>0&&((0,r.iv)({incrementKey:"GLOBAL_SSO_BANNER_DISPLAYED",requestUrl:window.location.href}),p.current=!0)},[e]),0===e.length)?null:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(w,{hidden:"visible"!==a,children:(0,n.jsx)(u.l,{title:"Single sign-on",className:"GlobalSSOBanner-module__banner--kzCnx",hideTitle:!0,icon:(0,n.jsx)(d.ShieldLockIcon,{}),description:(()=>{if(0===e.length)return"Single sign-on to see results";let t=e.slice(0,T.n5),a=e.length-T.n5,s=1===e.length?"organization":"organizations";return(0,n.jsxs)(n.Fragment,{children:["Single sign-on to see results in the ",(()=>{let e=t.map(e=>(0,n.jsx)("strong",{children:e.name},e.login));if(1===e.length)return e[0];{if(2===e.length)return(0,n.jsxs)(n.Fragment,{children:[e[0]," and ",e[1]]});let t=e.length-1,s=(0,n.jsxs)(n.Fragment,{children:[e[0],", ",e[1],", and ",e[t]]});return a>0?(0,n.jsxs)(n.Fragment,{children:[s,", and ",a," more"]}):s}})()," ",s]})})(),onDismiss:()=>{_({category:T.c$,action:"click_dismiss_button",label:"banner_dismissed"}),h(!0)},primaryAction:(0,n.jsx)(E,{ssoOrgs:e,redirectLocation:t}),"data-testid":"global-sso-banner"})}),(0,n.jsx)(S,{isOpen:c,onClose:()=>h(!1),onConfirm:t=>{((t=f)=>{let a,n,l;i("hidden"),a=[...new Set([...A(),...e.map(e=>e.id)])].sort(),(0,s.Yj)(T.z4),n=t??f,l=new Date(Date.now()+24*n*36e5).toUTCString(),(0,s.TV)(T.z4,JSON.stringify(a),l)})(t),h(!1)},ssoOrgs:e})]})}function R(){let{ssoOrgs:e,suppressBanner:t}=function(){let e,{ssoOrgs:t,baseAvatarUrl:a}=(0,c.N)(),{current_sso_orgs_match_dismissed_cookie:n}=(0,i.X)()??{},s=m.useMemo(()=>t.filter(O).map(e=>({...e,avatar_url:`${a}/u/${e.id}`})),[t,a]);return{suppressBanner:!0===n||(e=A(),s.length===e.length&&s.every(t=>e.includes(t.id))),ssoOrgs:s,baseAvatarUrl:a}}();return 0===e.length||t?null:(0,n.jsx)($,{ssoOrgs:e})}let D=T.z4;try{$.displayName||($.displayName="GlobalSsoBanner")}catch{}try{R.displayName||(R.displayName="ContextualGlobalSsoBanner")}catch{}},26410:(e,t,a)=>{a.d(t,{J:()=>x,F:()=>g});var n=a(74848),s=a(96540),i=a(39111),l=a(96459),r=a(96379),o=a(84268),c=a(19579),d=a(72511),u=a(5524),m=a(81960),h=a(11196),p=a(98755),_=a(38621),f=a(34164);function g(e){let{httpAvailable:t,sshAvailable:a,httpUrl:m,showCloneWarning:p,sshUrl:f,sshCertificatesRequired:g,sshCertificatesAvailable:b,ghCliUrl:v,newSshKeyUrl:j,setProtocolPath:N}=e.protocolInfo,{defaultProtocol:C}=e.protocolInfo,[S,w]=(0,s.useState)(C),[I,k]=(0,s.useState)(""),{cloneUrl:T,visualStudioCloneUrl:L,showVisualStudioCloneButton:E,showXcodeCloneButton:A,xcodeCloneUrl:O,zipballUrl:$}=e.platformInfo,R=(0,i.X)(["windows","mac"]),D=(0,i.X)(["mac"]),P=(0,l.Z)(),H="mt-2 fgColor-muted text-normal",q=(0,s.useCallback)(e=>{if(S!==e){w(e);let t=new FormData;t.set("protocol_selector",e),(0,r.DI)(N,{method:"post",body:t})}},[S,w,N]),M=(0,s.useMemo)(()=>{let e=[];return t&&e.push({protocol:"http",displayName:"HTTPS",ariaLabel:"Clone with HTTPS",handler:()=>q("http")}),a&&e.push({protocol:"ssh",displayName:"SSH",ariaLabel:"Clone with SSH",handler:()=>q("ssh")}),e.push({protocol:"gh_cli",displayName:"GitHub CLI",ariaLabel:"Clone with GitHub CLI",handler:()=>q("gh_cli")}),e},[t,q,a]),V=(0,s.useMemo)(()=>{let e=[];return R&&e.push({name:"githubDesktop",text:"Open with GitHub Desktop",url:T,icon:_.DesktopDownloadIcon}),R&&E&&e.push({name:"visualStudio",text:"Open with Visual Studio",url:L}),D&&A&&e.push({name:"xcode",text:"Open with Xcode",url:O}),e.push({name:"zip",text:"Download ZIP",url:$,icon:_.FileZipIcon}),e},[T,D,R,E,A,L,O,$]);return(0,n.jsx)("div",{children:"githubDesktop"===I?(0,n.jsx)(y,{platform:"GitHub Desktop",href:"https://desktop.github.com/"}):"visualStudio"===I?(0,n.jsx)(y,{platform:"Visual Studio"}):"xcode"===I?(0,n.jsx)(y,{platform:"Xcode",href:"https://developer.apple.com/xcode/"}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"m-3",children:[(0,n.jsxs)("div",{className:"d-flex flex-items-center",children:[(0,n.jsx)(_.TerminalIcon,{className:"mr-2"}),(0,n.jsx)("p",{className:"flex-1 text-bold mb-0",children:"Clone"}),(0,n.jsx)(h.m,{text:"Which remote URL should I use?",type:"label",direction:"w",children:(0,n.jsx)(o.A,{muted:!0,href:`${e.helpUrl}/articles/which-remote-url-should-i-use`,children:(0,n.jsx)(_.QuestionIcon,{className:"mr-1"})})})]}),(0,n.jsx)(c.O,{"aria-label":"Remote URL selector",className:"LocalTab-module__UnderlineNav--epbgw",children:M.map(e=>(0,n.jsx)(c.O.Item,{"aria-current":S===e.protocol?"page":void 0,"aria-label":e.ariaLabel,onClick:e.handler,children:e.displayName},e.protocol))}),"http"===S?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(x,{inputId:"clone-with-https",inputLabel:"Clone with HTTPS url",url:m}),(0,n.jsx)("p",{className:H,children:"Clone using the web URL."})]}):"ssh"===S?(0,n.jsxs)(n.Fragment,{children:[p&&(0,n.jsxs)(d.A,{className:"mb-2",variant:"warning",children:["You don't have any public SSH keys in your GitHub account. ","You can"," ",(0,n.jsx)(o.A,{inline:!0,href:j,children:"add a new public key"}),", or try cloning this repository via HTTPS."]}),(0,n.jsx)(x,{inputId:"clone-with-ssh",inputLabel:"Clone with SSH url",url:f}),(0,n.jsx)("p",{className:H,children:g?"Use a password-protected SSH certificate.":b?"Use a password-protected SSH key or certificate.":"Use a password-protected SSH key."})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(x,{buttonAriaLabel:"Copy command to clipboard",inputId:"clone-with-gh-cli",inputLabel:"Clone with GitHub CLI command",url:v}),(0,n.jsxs)("p",{className:H,children:["Work fast with our official CLI."," ",(0,n.jsx)(o.A,{inline:!0,href:"https://cli.github.com",target:"_blank","aria-label":"Learn more about the GitHub CLI",children:"Learn more"})]})]})]}),(0,n.jsx)(u.l,{variant:"inset",className:"border-top",children:V.map(e=>"zip"===e.name?(0,n.jsxs)(u.l.LinkItem,{"data-turbo":"false",href:e.url,rel:"nofollow",children:[e.icon&&(0,n.jsx)(u.l.LeadingVisual,{children:(0,n.jsx)(e.icon,{})}),e.text]},e.name):(0,n.jsxs)(u.l.Item,{onSelect:t=>{k(e.name),t.preventDefault(),P(e.url)},children:[e.icon&&(0,n.jsx)(u.l.LeadingVisual,{children:(0,n.jsx)(e.icon,{})}),e.text]},e.name))})]})})}function y({platform:e,href:t}){return(0,n.jsxs)("div",{className:(0,f.$)("p-3","LocalTab-module__PlatformContents--rz1GK"),children:[(0,n.jsx)(m.A,{as:"h4",variant:"small",className:"mb-3 text-center",children:`Launching ${e}`}),t&&(0,n.jsxs)("p",{className:"mb-3",children:["If nothing happens, ",(0,n.jsx)(o.A,{inline:!0,href:t,children:`download ${e}`})," and try again."]})]})}function x({buttonAriaLabel:e="Copy URL to clipboard",inputId:t,inputLabel:a,url:s}){return(0,n.jsxs)("div",{className:(0,f.$)("d-flex mb-2","LocalTab-module__CloneContainer--fne3C"),children:[(0,n.jsx)("label",{htmlFor:t,className:"sr-only",children:a}),(0,n.jsx)("input",{id:t,type:"text",className:"form-control input-monospace input-sm color-bg-subtle","data-autoselect":!0,value:s,readOnly:!0,style:{flexGrow:1}}),(0,n.jsx)(p.T,{className:(0,f.$)("ml-1 mr-0","LocalTab-module__CopyToClipboardButton--G8eJx"),textToCopy:s,ariaLabel:e,tooltipProps:{direction:"nw"}})]})}try{g.displayName||(g.displayName="LocalTab")}catch{}try{y.displayName||(y.displayName="LaunchingPlatformContents")}catch{}try{x.displayName||(x.displayName="CloneUrl")}catch{}},27912:(e,t,a)=>{a.d(t,{X:()=>T,P:()=>A});var n=a(74848),s=a(16522),i=a(34164),l=a(96540),r=a(57919),o=a(16070);let c="Layout-module__mainColumn--OFMVb",d="Layout-module__secondaryColumn--Ut9LZ",u="Layout-module__slimLineTopTabs--rx7V7",m="Header-module__column--ysX1b",h="Header-module__slimLineTopTabs--Qsz3v";var p=a(38621),_=a(26108),f=a(894);function g(){let e,t=(0,s.c)(2),{toggleSidebar:a}=(0,f.L)();return t[0]!==a?(e=(0,n.jsx)("div",{className:"SidebarToggle-module__sidebarToggleButton--NAVdU",children:(0,n.jsx)(_.K,{icon:p.ThreeBarsIcon,onClick:a,"aria-label":"Toggle sidebar"})}),t[0]=a,t[1]=e):e=t[1],e}try{g.displayName||(g.displayName="SidebarToggle")}catch{}function y(e){let t,a,l,r,o,c=(0,s.c)(10);return c[0]!==e?({children:t,className:a,...l}=e,c[0]=e,c[1]=t,c[2]=a,c[3]=l):(t=c[1],a=c[2],l=c[3]),c[4]!==a?(r=(0,i.$)(m,"Header-module__leftColumn--MghGY",a),c[4]=a,c[5]=r):r=c[5],c[6]!==t||c[7]!==l||c[8]!==r?(o=(0,n.jsx)("div",{className:r,...l,children:t}),c[6]=t,c[7]=l,c[8]=r,c[9]=o):o=c[9],o}function x(e){let t,a,l,r,o,c=(0,s.c)(10);return c[0]!==e?({children:t,className:a,...l}=e,c[0]=e,c[1]=t,c[2]=a,c[3]=l):(t=c[1],a=c[2],l=c[3]),c[4]!==a?(r=(0,i.$)(m,"Header-module__rightColumn--AckUb",a),c[4]=a,c[5]=r):r=c[5],c[6]!==t||c[7]!==l||c[8]!==r?(o=(0,n.jsx)("div",{className:r,...l,children:t}),c[6]=t,c[7]=l,c[8]=r,c[9]=o):o=c[9],o}function b(e){let t,a,l,o,c,d,u,m=(0,s.c)(22);m[0]!==e?({children:t,className:a,...l}=e,m[0]=e,m[1]=t,m[2]=a,m[3]=l):(t=m[1],a=m[2],l=m[3]);let{slimLineTopTabs:p}=(0,f.L)();m[4]===Symbol.for("react.memo_cache_sentinel")?(o={leftColumn:y,rightColumn:x},m[4]=o):o=m[4];let[_]=(0,r.H)(t,o);if(_.leftColumn&&_.rightColumn){let e,t,s,r=p&&h;return m[5]!==a||m[6]!==r?(e=(0,i.$)("Header-module__columnHeader--UxTKW",r,a),m[5]=a,m[6]=r,m[7]=e):e=m[7],m[8]===Symbol.for("react.memo_cache_sentinel")?(t=(0,n.jsx)(g,{}),m[8]=t):t=m[8],m[9]!==l||m[10]!==_.leftColumn||m[11]!==_.rightColumn||m[12]!==e?(s=(0,n.jsxs)("header",{className:e,...l,children:[t,_.leftColumn,_.rightColumn]}),m[9]=l,m[10]=_.leftColumn,m[11]=_.rightColumn,m[12]=e,m[13]=s):s=m[13],s}let b=p&&h;return m[14]!==a||m[15]!==b?(c=(0,i.$)("Header-module__header--tjtIT",b,a),m[14]=a,m[15]=b,m[16]=c):c=m[16],m[17]===Symbol.for("react.memo_cache_sentinel")?(d=(0,n.jsx)(g,{}),m[17]=d):d=m[17],m[18]!==t||m[19]!==l||m[20]!==c?(u=(0,n.jsxs)("header",{className:c,...l,children:[d,t]}),m[18]=t,m[19]=l,m[20]=c,m[21]=u):u=m[21],u}try{y.displayName||(y.displayName="HeaderLeft")}catch{}try{x.displayName||(x.displayName="HeaderRight")}catch{}try{b.displayName||(b.displayName="Header")}catch{}function v(){let e,t=(0,s.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)("div",{className:"HeaderToggleOnly-module__headerToggleOnly--wC7_E",children:(0,n.jsx)(g,{})}),t[0]=e):e=t[0],e}try{v.displayName||(v.displayName="HeaderToggleOnly")}catch{}var j=a(36523);function N(e){let t,a,i,l,r=(0,s.c)(8),{onToggle:o,labelId:c}=e;return r[0]!==c?(t=(0,n.jsx)("h2",{id:c,className:"sr-only",children:"Copilot navigation"}),r[0]=c,r[1]=t):t=r[1],r[2]===Symbol.for("react.memo_cache_sentinel")?(a=(0,n.jsx)("a",{href:"/",target:"_self",className:"Sidebar-module__githubLogo--qLZu3","aria-label":"GitHub homepage",children:(0,n.jsx)(p.MarkGithubIcon,{size:32})}),r[2]=a):a=r[2],r[3]!==o?(i=(0,n.jsx)(_.K,{icon:p.XIcon,variant:"invisible","aria-label":"Close sidebar",onClick:o,className:"Sidebar-module__toggleSidebarFloating--fQq3y"}),r[3]=o,r[4]=i):i=r[4],r[5]!==t||r[6]!==i?(l=(0,n.jsxs)("div",{className:"Sidebar-module__header--rIhJd",children:[t,a,i]}),r[5]=t,r[6]=i,r[7]=l):l=r[7],l}function C(e){let t,a,r,o,c,d,u=(0,s.c)(26),{children:m,className:h,innerClassName:p,isVisible:_,isExpanded:f,isCondensable:g,sidebarRef:y,onToggle:x,"data-testid":b,header:v,"aria-labelledby":C}=e,S=void 0===g||g,w=(0,j.L)(y),I=(0,l.useId)(),k=`${I}-copilot-navigation`,T=void 0===v,L=T?k:C;u[0]!==k||u[1]!==v||u[2]!==T||u[3]!==x?(t=T?(0,n.jsx)(N,{onToggle:x,labelId:k}):v,u[0]=k,u[1]=v,u[2]=T,u[3]=x,u[4]=t):t=u[4];let E=t;return u[5]!==h||u[6]!==_?(a=(0,i.$)("Sidebar-module__container--onmDW",h,{"Sidebar-module__visible--NW0KW":_}),u[5]=h,u[6]=_,u[7]=a):a=u[7],u[8]!==p?(r=(0,i.$)("Sidebar-module__sidebar--u6QU6",p),u[8]=p,u[9]=r):r=u[9],u[10]!==m||u[11]!==E||u[12]!==r?(o=(0,n.jsxs)("div",{className:r,children:[E,m]}),u[10]=m,u[11]=E,u[12]=r,u[13]=o):o=u[13],u[14]!==S||u[15]!==f||u[16]!==_||u[17]!==x?(c=S?(0,n.jsx)("button",{className:(0,i.$)("Sidebar-module__toggleSidebarVertical--_YU5M",{"Sidebar-module__isExpanded--TSJdT":f}),onClick:x,tabIndex:-1,children:(0,n.jsx)("span",{className:"sr-only",children:_||f?"Condense sidebar":"Expand sidebar"})}):(0,n.jsx)("div",{className:"Sidebar-module__sidebarDivider--AlIIF"}),u[14]=S,u[15]=f,u[16]=_,u[17]=x,u[18]=c):c=u[18],u[19]!==b||u[20]!==L||u[21]!==w||u[22]!==a||u[23]!==o||u[24]!==c?(d=(0,n.jsxs)("aside",{"aria-labelledby":L,ref:w,className:a,"data-testid":b,children:[o,c]}),u[19]=b,u[20]=L,u[21]=w,u[22]=a,u[23]=o,u[24]=c,u[25]=d):d=u[25],d}try{N.displayName||(N.displayName="SidebarHeader")}catch{}try{C.displayName||(C.displayName="Sidebar")}catch{}function S(e){let t,a,l,r=(0,s.c)(16),{children:o,className:c,innerClassName:d,"data-testid":u,header:m,"aria-labelledby":h}=e,{sidebarExpanded:p,sidebarVisible:_,sidebarCondensable:g,toggleSidebar:y,sidebarRef:x}=(0,f.L)();r[0]!==h||r[1]!==m?(t=void 0===m?{header:m}:{header:m,"aria-labelledby":h},r[0]=h,r[1]=m,r[2]=t):t=r[2];let b=t;return r[3]!==c?(a=(0,i.$)("Layout-module__sidebar--r6coV",c),r[3]=c,r[4]=a):a=r[4],r[5]!==o||r[6]!==u||r[7]!==d||r[8]!==g||r[9]!==p||r[10]!==b||r[11]!==x||r[12]!==_||r[13]!==a||r[14]!==y?(l=(0,n.jsx)(C,{className:a,innerClassName:d,isVisible:_,isExpanded:p,isCondensable:g,onToggle:y,sidebarRef:x,"data-testid":u,...b,children:o}),r[5]=o,r[6]=u,r[7]=d,r[8]=g,r[9]=p,r[10]=b,r[11]=x,r[12]=_,r[13]=a,r[14]=y,r[15]=l):l=r[15],l}function w(e){let t,a,l,r,o,m=(0,s.c)(12);m[0]!==e?({children:t,className:a,...l}=e,m[0]=e,m[1]=t,m[2]=a,m[3]=l):(t=m[1],a=m[2],l=m[3]);let{mainColumn:h,slimLineTopTabs:p}=(0,f.L)(),_="left"===h,g=_?c:d,y=!_&&p&&u;return m[4]!==a||m[5]!==g||m[6]!==y?(r=(0,i.$)("Layout-module__columnLeft--jY2aC",g,y,a),m[4]=a,m[5]=g,m[6]=y,m[7]=r):r=m[7],m[8]!==t||m[9]!==l||m[10]!==r?(o=(0,n.jsx)("div",{className:r,"data-column-position":"left",...l,children:t}),m[8]=t,m[9]=l,m[10]=r,m[11]=o):o=m[11],o}function I(e){let t,a,l,r,o,m,h=(0,s.c)(14);h[0]!==e?({children:t,className:a,"data-testid":l,...r}=e,h[0]=e,h[1]=t,h[2]=a,h[3]=l,h[4]=r):(t=h[1],a=h[2],l=h[3],r=h[4]);let{mainColumn:p,slimLineTopTabs:_}=(0,f.L)(),g="right"===p,y=g?c:d,x=!g&&_&&u;return h[5]!==a||h[6]!==y||h[7]!==x?(o=(0,i.$)("Layout-module__columnRight--WBwz7",y,x,a),h[5]=a,h[6]=y,h[7]=x,h[8]=o):o=h[8],h[9]!==t||h[10]!==l||h[11]!==r||h[12]!==o?(m=(0,n.jsx)("div",{className:o,"data-testid":l,"data-column-position":"right",...r,children:t}),h[9]=t,h[10]=l,h[11]=r,h[12]=o,h[13]=m):m=h[13],m}function k(){let e,t=(0,s.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)("div",{className:"Layout-module__banner--b14up",children:(0,n.jsx)(o.Y0,{})}),t[0]=e):e=t[0],e}let T="(max-width: 1024px)",L="COPILOT_IMMERSIVE_SIDEBAR_COLLAPSED_STATE_KEY";function E(e){let t,a,o,c,d,m,h,p,_,g,j,N,C,E,A,O,$,R=(0,s.c)(32);R[0]!==e?({children:t,className:a,mainColumn:p,"data-testid":o,secondaryColumnState:h,resourcePanelState:m,faviconOverride:c,mobileSecondaryColumnDirection:_,sidebarCondensable:g,slimLineTopTabs:j,...d}=e,R[0]=e,R[1]=t,R[2]=a,R[3]=o,R[4]=c,R[5]=d,R[6]=m,R[7]=h,R[8]=p,R[9]=_,R[10]=g,R[11]=j):(t=R[1],a=R[2],o=R[3],c=R[4],d=R[5],m=R[6],h=R[7],p=R[8],_=R[9],g=R[10],j=R[11]);let D=void 0===p?"left":p,P=void 0===_?"horizontal":_,H=void 0===g||g,q=void 0!==j&&j;R[12]===Symbol.for("react.memo_cache_sentinel")?(N={banner:k,header:b,sidebar:S,columnLeft:w,columnRight:I},R[12]=N):N=R[12];let[M]=(0,r.H)(t,N),V=function(e){if(!e||!(0,l.isValidElement)(e))return!1;let t=!1,a=!1,n=e.props.children;for(let e of l.Children.toArray(n))(0,l.isValidElement)(e)&&(e.type===y&&(t=!0),e.type===x&&(a=!0));return t&&a}(M.header||null),F=!!M.columnLeft&&!M.columnRight||!M.columnLeft&&!!M.columnRight,U=!!M.columnLeft&&!!M.columnRight,B=!V&&!F,z=function(e,t,a,n,i){let r,o,c,d,u,m,h,p,_,f,g,y=(0,s.c)(41),x=void 0===n||n,b=void 0!==i&&i;y[0]!==x?(r=()=>!x||function(){if("undefined"==typeof window)return!0;try{let e=localStorage.getItem(L);return null===e||JSON.parse(e)}catch{return!0}}(),y[0]=x,y[1]=r):r=y[1];let[v,j]=(0,l.useState)(r),[N,C]=(0,l.useState)(!1),S=(0,l.useState)(!1),w=(0,l.useState)(!1),[I,k]=t??S,[E,A]=a??w,[O,$]=(0,l.useState)(!1);y[2]===Symbol.for("react.memo_cache_sentinel")?(o={visible:!1,resourcePanel:!1,fullWidth:!1},y[2]=o):o=y[2];let R=(0,l.useRef)(o);y[3]!==E||y[4]!==O||y[5]!==I||y[6]!==A||y[7]!==k?(c=e=>{e?(R.current={visible:I,resourcePanel:E,fullWidth:O},C(!1),O||k(!1)):(k(R.current.visible),A(R.current.resourcePanel),$(R.current.fullWidth))},y[3]=E,y[4]=O,y[5]=I,y[6]=A,y[7]=k,y[8]=c):c=y[8];let D=function(e,t){let a,n,i,r=(0,s.c)(6);r[0]!==e?(a=()=>"undefined"!=typeof window&&window.matchMedia(e).matches,r[0]=e,r[1]=a):a=r[1];let[o,c]=(0,l.useState)(a);return r[2]!==t||r[3]!==e?(n=()=>{let a=window.matchMedia(e),n=e=>{c(e.matches),t&&t(e.matches)};return c(a.matches),a.addEventListener("change",n),()=>{a.removeEventListener("change",n)}},i=[e,t],r[2]=t,r[3]=e,r[4]=n,r[5]=i):(n=r[4],i=r[5]),(0,l.useEffect)(n,i),o}(T,c),P=(0,l.useRef)(null),H=(0,l.useRef)(null);y[9]!==D||y[10]!==x||y[11]!==v||y[12]!==N?(d=()=>{if(D)C(!N);else if(x){let e=!v;j(e);if("undefined"!=typeof window)try{localStorage.setItem(L,JSON.stringify(e))}catch{}}},y[9]=D,y[10]=x,y[11]=v,y[12]=N,y[13]=d):d=y[13];let q=d;y[14]!==I||y[15]!==A||y[16]!==k?(u=()=>{I&&A(!1),k(!I)},y[14]=I,y[15]=A,y[16]=k,y[17]=u):u=y[17];let M=u;y[18]!==E||y[19]!==A?(m=()=>{A(!E)},y[18]=E,y[19]=A,y[20]=m):m=y[20];let V=m;y[21]!==O?(h=()=>{$(!O)},y[21]=O,y[22]=h):h=y[22];let F=h;y[23]===Symbol.for("react.memo_cache_sentinel")?(p=e=>{R.current=e(R.current)},y[23]=p):p=y[23];let U=p;return y[24]!==N?(_=()=>{if(N&&H.current){let e=e=>{H.current&&!H.current.contains(e.target)&&C(!1)};return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e,{passive:!0}),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}}},f=[N],y[24]=N,y[25]=_,y[26]=f):(_=y[25],f=y[26]),(0,l.useEffect)(_,f),y[27]!==D||y[28]!==e||y[29]!==E||y[30]!==O||y[31]!==I||y[32]!==x||y[33]!==v||y[34]!==N||y[35]!==b||y[36]!==V||y[37]!==M||y[38]!==F||y[39]!==q?(g={sidebarExpanded:v,sidebarVisible:N,sidebarCondensable:x,toggleSidebar:q,secondaryColumnVisible:I,toggleSecondaryColumn:M,secondaryColumnFullWidth:O,toggleSecondaryColumnFullWidth:F,resourcePanelOpen:E,toggleResourcePanel:V,setDesktopLayoutState:U,layoutBreakpoint:D,mainColumn:e,slimLineTopTabs:b,containerRef:P,sidebarRef:H},y[27]=D,y[28]=e,y[29]=E,y[30]=O,y[31]=I,y[32]=x,y[33]=v,y[34]=N,y[35]=b,y[36]=V,y[37]=M,y[38]=F,y[39]=q,y[40]=g):g=y[40],g}(D,h,m,H,q),{containerRef:W,secondaryColumnVisible:G,secondaryColumnFullWidth:K,sidebarExpanded:Y,resourcePanelOpen:X}=z,Q=function(e,t){let a,n,i=(0,s.c)(6),[r,o]=(0,l.useState)(!1),c=(0,l.useRef)(void 0);return void 0!==i[0]||i[1]!==e.current?(a=()=>{if(!e.current)return;let t=new ResizeObserver(e=>{o(!0),c.current&&clearTimeout(c.current),c.current=window.setTimeout(()=>{o(!1)},150)});return t.observe(e.current),()=>{t.disconnect(),c.current&&clearTimeout(c.current)}},i[0]=void 0,i[1]=e.current,i[2]=a):a=i[2],void 0!==i[3]||i[4]!==e?(n=[e,void 0],i[3]=void 0,i[4]=e,i[5]=n):n=i[5],(0,l.useEffect)(a,n),r}(W),J=f.M,Z=(0,i.$)("Layout-module__container--qlyoa",q&&u,B&&"Layout-module__panelView--l6qZ7",V&&"Layout-module__splitView--ldg6X",V&&"right"===D&&"Layout-module__mainColumnRight--Izd_P",G&&"Layout-module__secondaryColumnVisible--RdfK7",!G&&U&&"Layout-module__secondaryColumnHidden--y3gv6",K&&"Layout-module__secondaryColumnFullWidth--vC2V5",X&&"Layout-module__resourcePanelOpen--vh9_8",F&&"Layout-module__monoView--z920C",!Y&&"Layout-module__sidebarCondensed--m7Zsu",Q&&"Layout-module__resizing--rf7h4","vertical"===P&&"Layout-module__verticalSecondaryColumn--O2DEP",a);return R[13]!==c?(C=c&&(0,n.jsx)("span",{"data-favicon-override":c,"data-testid":"favicon-override"}),R[13]=c,R[14]=C):C=R[14],R[15]===Symbol.for("react.memo_cache_sentinel")?(E=(0,n.jsx)(k,{}),R[15]=E):E=R[15],R[16]!==M.header?(A=M.header||(0,n.jsx)(v,{}),R[16]=M.header,R[17]=A):A=R[17],R[18]!==W||R[19]!==o||R[20]!==d||R[21]!==M.columnLeft||R[22]!==M.columnRight||R[23]!==M.sidebar||R[24]!==Z||R[25]!==C||R[26]!==A?(O=(0,n.jsxs)("div",{className:Z,"data-testid":o,ref:W,...d,children:[C,E,M.sidebar,A,M.columnLeft,M.columnRight]}),R[18]=W,R[19]=o,R[20]=d,R[21]=M.columnLeft,R[22]=M.columnRight,R[23]=M.sidebar,R[24]=Z,R[25]=C,R[26]=A,R[27]=O):O=R[27],R[28]!==J||R[29]!==z||R[30]!==O?($=(0,n.jsx)(J,{value:z,children:O}),R[28]=J,R[29]=z,R[30]=O,R[31]=$):$=R[31],$}let A=Object.assign(E,{Banner:k,Sidebar:S,ColumnLeft:w,ColumnRight:I,Header:b,HeaderLeft:y,HeaderRight:x});try{S.displayName||(S.displayName="LayoutSidebar")}catch{}try{w.displayName||(w.displayName="ColumnLeft")}catch{}try{I.displayName||(I.displayName="ColumnRight")}catch{}try{k.displayName||(k.displayName="Banner")}catch{}try{T.displayName||(T.displayName="LAYOUT_BREAKPOINT")}catch{}try{E.displayName||(E.displayName="LayoutRoot")}catch{}try{A.displayName||(A.displayName="Layout")}catch{}},28898:(e,t,a)=>{a.d(t,{H:()=>i,t:()=>s});var n=a(71315);function s(e,t){let a=n.cg?.location.origin||"https://github.com";return`x-github-client://openRepo/${a}/${e}?pr=${t}`}function i(e,t){let a=n.cg?.location.origin;return a?`x-github-client://openRepo/${a}/${e}?branch=${t}`:void 0}},29607:(e,t,a)=>{a.d(t,{j:()=>o,s:()=>c});var n=a(74848),s=a(16522),i=a(40090),l=a(34164),r=a(96540);function o(e){let t,a,i,o=(0,s.c)(10),{children:c,isCondensed:d,"aria-label":u,className:m}=e,h=void 0===u?"Navigation":u,p=(0,r.useId)(),_=`${p}-navigation`,f=d&&"SidebarNavigation-module__condensed--FtKTo";return o[0]!==m||o[1]!==f?(t=(0,l.$)("SidebarNavigation-module__container--XJoVm",f,m),o[0]=m,o[1]=f,o[2]=t):t=o[2],o[3]!==c?(a=(0,n.jsx)("div",{className:"SidebarNavigation-module__scrollingContainer--ny4XP",children:(0,n.jsx)("div",{className:"SidebarNavigation-module__section--IspfT",children:c})}),o[3]=c,o[4]=a):a=o[4],o[5]!==h||o[6]!==_||o[7]!==t||o[8]!==a?(i=(0,n.jsx)("nav",{"aria-label":h,id:_,tabIndex:-1,className:t,children:a}),o[5]=h,o[6]=_,o[7]=t,o[8]=a,o[9]=i):i=o[9],i}function c(e){let t,a,l,o=(0,s.c)(12),{title:c,children:d,isLoading:u,isEmpty:m,viewMoreLink:h,trailingAction:p}=e,_=(0,r.useId)();return o[0]!==_||o[1]!==c||o[2]!==p?(t=c&&(0,n.jsxs)("div",{className:"SidebarNavigation-module__titleContainer--oAM2L",children:[(0,n.jsx)("h4",{id:_,className:"SidebarNavigation-module__title--aV4qO",children:c}),p||null]}),o[0]=_,o[1]=c,o[2]=p,o[3]=t):t=o[3],o[4]!==d||o[5]!==m||o[6]!==u||o[7]!==h?(a=m&&u?(0,n.jsx)(i.r,{lines:5}):m?null:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("ul",{className:"SidebarNavigation-module__list--bB1nv",children:d}),h]}),o[4]=d,o[5]=m,o[6]=u,o[7]=h,o[8]=a):a=o[8],o[9]!==t||o[10]!==a?(l=(0,n.jsxs)("div",{className:"SidebarNavigation-module__sectionContainer--KRNn6",children:[t,a]}),o[9]=t,o[10]=a,o[11]=l):l=o[11],l}try{o.displayName||(o.displayName="SidebarNavigation")}catch{}try{c.displayName||(c.displayName="SidebarSection")}catch{}},31315:(e,t,a)=>{function n(e){return s(e)[0]}function s(e){let t=[];for(let a of function(){try{return document.cookie.split(";")}catch{return[]}}()){let[n,s]=a.trim().split("=");e===n&&void 0!==s&&t.push({key:n,value:s})}return t}function i(e,t,a=null,n=!1,s="lax"){let l=document.domain;if(null==l)throw Error("Unable to get document domain");l.endsWith(".github.com")&&(l="github.com");let r="https:"===location.protocol?"; secure":"",o=a?`; expires=${a}`:"";!1===n&&(l=`.${l}`);try{document.cookie=`${e}=${t}; path=/; domain=${l}${o}${r}; samesite=${s}`}catch{}}function l(e,t=!1){let a=document.domain;if(null==a)throw Error("Unable to get document domain");a.endsWith(".github.com")&&(a="github.com");let n=new Date(Date.now()-1).toUTCString(),s="https:"===location.protocol?"; secure":"",i=`; expires=${n}`;!1===t&&(a=`.${a}`);try{document.cookie=`${e}=''; path=/; domain=${a}${i}${s}`}catch{}}a.d(t,{OR:()=>s,Ri:()=>n,TV:()=>i,Yj:()=>l})},32051:(e,t,a)=>{a.d(t,{mE:()=>l});var n=a(74848),s=a(16522);let i=(0,a(96540).createContext)(void 0);function l(e){let t,a,l=(0,s.c)(5),{pull:r,children:o}=e;l[0]!==r?(t={pull:r},l[0]=r,l[1]=t):t=l[1];let c=t;return l[2]!==o||l[3]!==c?(a=(0,n.jsx)(i,{value:c,children:o}),l[2]=o,l[3]=c,l[4]=a):a=l[4],a}try{i.displayName||(i.displayName="PullContext")}catch{}try{l.displayName||(l.displayName="PullContextProvider")}catch{}},32870:(e,t,a)=>{a.d(t,{O:()=>u,f:()=>d});var n=a(74848),s=a(16522),i=a(21373),l=a(61191),r=a(96540),o=a(77274);let c=[{name:"Hate it",value:"VERY_NEGATIVE",icon:o.YS,color:"veryDissatisfied"},{name:"Not great",value:"NEGATIVE",icon:o.Mm,color:"dissatisfied"},{name:"It\u2019s ok",value:"POSITIVE",icon:o.Cf,color:"satisfied"},{name:"Love it",value:"VERY_POSITIVE",icon:o.mN,color:"verySatisfied"}],d=e=>{let t=e?`task-header:session_id=${e}`:"task-header";return(0,l.f)(t,c)};function u(e){let t,a,l,o,c=(0,s.c)(9),{sessionId:u}=e,{openFeedback:m,FeedbackDialog:h}=d(u),p=(0,r.useRef)(null);c[0]!==m?(t=()=>m(),c[0]=m,c[1]=t):t=c[1];let _=t;return c[2]!==_?(a=(0,n.jsx)(i.Q,{ref:p,variant:"link",className:"f6",onClick:_,children:"Give feedback"}),c[2]=_,c[3]=a):a=c[3],c[4]!==h?(l=(0,n.jsx)(h,{returnFocusRef:p}),c[4]=h,c[5]=l):l=c[5],c[6]!==a||c[7]!==l?(o=(0,n.jsxs)(n.Fragment,{children:[a,l]}),c[6]=a,c[7]=l,c[8]=o):o=c[8],o}try{u.displayName||(u.displayName="FeedbackButton")}catch{}},39111:(e,t,a)=>{a.d(t,{X:()=>s});var n=a(54571);function s(e){let t=e.join(","),[a]=(0,n.I)(()=>{let e=/Windows/.test(navigator.userAgent)?"windows":/Macintosh/.test(navigator.userAgent)?"mac":null;return!!e&&t.includes(e)},!1,[t]);return a}},40493:(e,t,a)=>{a.d(t,{A:()=>n});let n={TabNav:"CodeDropdownButton-module__TabNav--zWa9N",NavItem:"CodeDropdownButton-module__NavItem--_hXZP",CodespacesSkeletonWrapper:"CodeDropdownButton-module__CodespacesSkeletonWrapper--KXl0V",SkeletonLoaderWrapper:"CodeDropdownButton-module__SkeletonLoaderWrapper--suXcn"}},49086:(e,t,a)=>{a.d(t,{n:()=>w});var n=a(74848),s=a(82075),i=a(21373),l=a(1481),r=a(96540),o=a(13107),c=a(26410),d=a(68273),u=a(16522),m=a(20622),h=a(53885),p=a(96379),_=a(65510);let f=(0,d.Z6)()?function(e){let t,a,n,s=(0,u.c)(7),i=(0,h.e)(m.uT.codeButton);return s[0]!==i?(t=[m.uT.codeButton,i],a=async()=>{let e=await (0,p.QJ)(i);if(!e.ok)throw Error(`HTTP ${e.status}`);return await e.json()},s[0]=i,s[1]=t,s[2]=a):(t=s[1],a=s[2]),s[3]!==e||s[4]!==t||s[5]!==a?(n={queryKey:t,queryFn:a,initialData:e,staleTime:1/0},s[3]=e,s[4]=t,s[5]=a,s[6]=n):n=s[6],(0,_.U)(n)}:function(e){let t=(0,h.e)(m.uT.codeButton);return(0,_.U)({queryKey:[m.uT.codeButton,t],queryFn:async()=>{let e=await (0,p.QJ)(t);if(!e.ok)throw Error(`HTTP ${e.status}`);return await e.json()},initialData:e,staleTime:1/0})};var g=a(91747),y=a(31604),x=a(94236),b=a(38621);let v=({isPrimary:e,children:t,size:a,onOpenChange:s})=>{let l=(0,g.u)("accessible_code_button"),[o,c]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{l&&s&&s(o)},[o,l]),l)?(0,n.jsx)(y.T,{align:"end",focusZoneSettings:{disabled:!0},open:o,onOpen:()=>c(!0),onClose:()=>c(!1),renderAnchor:t=>(0,n.jsx)(i.Q,{...t,variant:e?"primary":void 0,leadingVisual:()=>(0,n.jsx)(b.CodeIcon,{className:"hide-sm"}),trailingVisual:()=>(0,n.jsx)(b.TriangleDownIcon,{}),size:a||"medium",children:"Code"}),children:t}):(0,n.jsxs)(x.W,{children:[(0,n.jsx)(x.W.Button,{variant:e?"primary":void 0,leadingVisual:()=>(0,n.jsx)(b.CodeIcon,{className:"hide-sm"}),size:a||"medium",children:"Code"}),(0,n.jsx)(x.W.Overlay,{width:"auto",align:"end",children:t})]})};try{v.displayName||(v.displayName="CodeMenuButton")}catch{}var j=a(40493);let N=(0,s.A)("localStorage"),C="local",S="cloud";function w(e){var t,a;let{primary:s,size:d,showCodespacesTab:u,isEnterprise:m,localTab:h,codespacesTab:p,localTabProps:_,codespacesPath:f}=e,g="code-button-default-tab",[y,x]=(0,r.useState)(C),b=(0,r.useCallback)(e=>{x(S),N.setItem(g,S),e?.preventDefault()},[]),w=(0,r.useCallback)(e=>{x(C),N.setItem(g,C),e?.preventDefault()},[]);(0,r.useEffect)(()=>{N.getItem(g)===S&&u&&b()},[]);let k=!m&&u;return(0,n.jsxs)(v,{size:d,isPrimary:s,children:[k&&(0,n.jsxs)(l.A,{className:j.A.TabNav,children:[(0,n.jsx)(l.A.Link,{as:i.Q,selected:y===C,onClick:w,className:j.A.NavItem,children:"Local"}),!m&&u&&(0,n.jsx)(l.A.Link,{as:i.Q,selected:y===S,onClick:b,className:j.A.NavItem,children:"Codespaces"})]}),(0,n.jsxs)("div",{className:"react-overview-code-button-action-list py-0",children:[y===C&&(h||((t=_)?(0,n.jsx)(c.F,{...t}):null)),y===S&&(p||((a=f)?(0,n.jsx)(o.VO,{children:(0,n.jsx)(I,{codespacesPath:a})}):null))]})]})}function I(e){let t=f().data,a=(0,g.u)("copilot_swe_agent_progress_commands"),{repositoryPolicyInfo:s,...i}=t;return a?(0,n.jsx)(o.NF,{codespacesPath:e.codespacesPath,repoPolicyInfo:s,...i}):(0,n.jsx)(o.NF,{codespacesPath:e.codespacesPath,...t})}try{w.displayName||(w.displayName="CodeDropdownButton")}catch{}try{I.displayName||(I.displayName="SuspendedCodespacesTab")}catch{}},49806:(e,t,a)=>{a.d(t,{H:()=>s});var n=a(47723);function s(e){return e.startsWith(n.an)?e.slice(n.an.length):e}},51587:(e,t,a)=>{a.d(t,{N:()=>i});var n=a(79634),s=a(96540);let i=()=>{let e=(0,n.X)();return(0,s.useMemo)(()=>({ssoOrgs:e?.sso_organizations??[],baseAvatarUrl:e?.base_avatar_url??"https://avatars.githubusercontent.com"}),[e?.sso_organizations,e?.base_avatar_url])}},61191:(e,t,a)=>{a.d(t,{f:()=>m});var n,s=a(74848),i=a(16522),l=a(96540),r=a(77274),o=a(54508),c=a(69599),d=a(96379);function u({surveyDialogRef:e,feedbackDialogRef:t,initialRatingRef:a,ratingOptions:n,source:i,returnFocusRef:c,onClose:u,onSubmitted:m}){let h=(0,l.useCallback)(async(e,t)=>{let a=[];if(null==e&&a.push("Please select a rating."),t.length>2e3&&a.push("Please keep your feedback within 2000 characters or less."),a.length>0)return a;let n={subject:`mission-control:${i}`,rating:e,content:t,hostname:window.location.hostname,path:window.location.pathname,mode:"immersive"};try{(await (0,d.lS)("/github-copilot/feedback",{method:"POST",body:n})).ok?null!=e&&m?.(e):a.push("An error occurred while submitting your feedback.")}catch{a.push("An error occurred while submitting your feedback.")}return a},[i,m]),p=(0,l.useCallback)(e=>{"no-thanks"===e?t.current?.openDialog(a.current):(null!=a.current&&h(a.current,""),u?.("dismiss"))},[t,a,h,u]),_=(0,l.useCallback)(e=>{"dismiss"===e&&a.current&&h(a.current,""),u?.(e)},[a,h,u]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.E,{ref:e,onClose:p}),(0,s.jsx)(r.NE,{ref:t,options:n,onSubmit:h,onClose:_,returnFocusRef:c})]})}function m(e,t){let a,n,r,o,d=(0,i.c)(7),m=(0,l.useRef)(null),h=(0,l.useRef)(null),p=(0,l.useRef)(void 0);d[0]===Symbol.for("react.memo_cache_sentinel")?(a=(0,c.G7)("copilot_mission_control_interview_survey"),d[0]=a):a=d[0];let _=a;d[1]===Symbol.for("react.memo_cache_sentinel")?(n=e=>{p.current=e,_?m.current?.openDialog():h.current?.openDialog(e)},d[1]=n):n=d[1];let f=n;d[2]!==t||d[3]!==e?(r=a=>(0,s.jsx)(u,{surveyDialogRef:m,feedbackDialogRef:h,initialRatingRef:p,ratingOptions:t,source:e,...a}),d[2]=t,d[3]=e,d[4]=r):r=d[4];let g=r;return d[5]!==g?(o={openFeedback:f,FeedbackDialog:g},d[5]=g,d[6]=o):o=d[6],o}try{u.displayName||(u.displayName="FeedbackDialog")}catch{}try{(n=DialogComponent).displayName||(n.displayName="DialogComponent")}catch{}},67925:(e,t,a)=>{a.d(t,{Q:()=>l});var n=a(74848),s=a(16522),i=a(11680);function l(e){let t,a,l,r,o=(0,s.c)(10),{problemStatement:c,handleRetry:d,handleDismiss:u}=e,m=c??"";o[0]!==m?(t=function(e,t=50,a=2){let n=t*a;return e.length<=n?e:`${e.substring(0,n).trim()}...`}(m,20,1),o[0]=m,o[1]=t):t=o[1];let h=t,p=`Failed to create a task for '${h}'. Please try again.`;return o[2]!==u?(a=(0,n.jsx)(i.l.SecondaryAction,{onClick:u,children:"Dismiss"}),o[2]=u,o[3]=a):a=o[3],o[4]!==d?(l=(0,n.jsx)(i.l.PrimaryAction,{onClick:d,children:"Retry"}),o[4]=d,o[5]=l):l=o[5],o[6]!==p||o[7]!==a||o[8]!==l?(r=(0,n.jsx)(i.l,{variant:"critical",title:"Task Creation Failed",hideTitle:!0,description:p,secondaryAction:a,primaryAction:l}),o[6]=p,o[7]=a,o[8]=l,o[9]=r):r=o[9],r}try{l.displayName||(l.displayName="TaskCreationFailedBanner")}catch{}},71205:(e,t,a)=>{a.d(t,{W:()=>c});var n=a(74848),s=a(16522),i=a(34164),l=a(3433);let r="SidebarListItem-module__link--_g1X4",o="SidebarListItem-module__linkWithSecondaryText--dmh3S";function c(e){let t,a,c,d,u,m,h,p,_,f=(0,s.c)(28),{href:g,text:y,isSelected:x,trailingAction:b,onClick:v,className:j,leadingVisual:N,secondaryText:C,reloadDocument:S}=e,w=void 0!==S&&S,I=!!C;f[0]!==N?(t=N&&(0,n.jsx)("span",{className:(0,i.$)("SidebarListItem-module__statusIcon--Oc8Sk"),children:(0,n.jsx)(N,{})}),f[0]=N,f[1]=t):t=f[1],f[2]!==y?(a=(0,n.jsx)("span",{children:y}),f[2]=y,f[3]=a):a=f[3],f[4]!==t||f[5]!==a?(c=(0,n.jsxs)("div",{className:"SidebarListItem-module__topLine--ATLSE",children:[t,a]}),f[4]=t,f[5]=a,f[6]=c):c=f[6],f[7]!==C?(d=!!C&&(0,n.jsxs)("p",{className:"SidebarListItem-module__secondaryText--ZgXnc",children:[C," "]}),f[7]=C,f[8]=d):d=f[8],f[9]!==c||f[10]!==d?(u=(0,n.jsxs)("div",{className:"SidebarListItem-module__content--sAGuS",children:[c,d]}),f[9]=c,f[10]=d,f[11]=u):u=f[11];let k=u;return f[12]!==j?(m=(0,i.$)("SidebarListItem-module__item--x3BBP",j),f[12]=j,f[13]=m):m=f[13],f[14]!==k||f[15]!==I||f[16]!==g||f[17]!==x||f[18]!==v||f[19]!==w?(h=""===g?(0,n.jsx)("div",{className:(0,i.$)(r,{[o]:I}),children:k}):(0,n.jsx)(l.N_,{className:(0,i.$)(r,{[o]:I}),to:g,"aria-current":x?"page":void 0,onClick:v,reloadDocument:w,children:k}),f[14]=k,f[15]=I,f[16]=g,f[17]=x,f[18]=v,f[19]=w,f[20]=h):h=f[20],f[21]!==b?(p=b?(0,n.jsx)("span",{className:"SidebarListItem-module__trailingAction--S8yi9",children:b}):null,f[21]=b,f[22]=p):p=f[22],f[23]!==x||f[24]!==m||f[25]!==h||f[26]!==p?(_=(0,n.jsxs)("li",{className:m,"data-selected":x,children:[h,p]}),f[23]=x,f[24]=m,f[25]=h,f[26]=p,f[27]=_):_=f[27],_}try{c.displayName||(c.displayName="SidebarListItem")}catch{}},77180:(e,t,a)=>{a.d(t,{FS:()=>v,vp:()=>_,U6:()=>b,NI:()=>x,UU:()=>g,PZ:()=>y});var n=a(74848),s=a(16522),i=a(38621),l=a(5524),r=a(84268),o=a(49086),c=a(26410),d=a(99223),u=a(13107),m=a(28898),h=a(67154),p=a(69599);function _(e,t){let a=`git clone https://github.com/${t}.git && code ${t.split("/")[1]}`;window.open(e,"_self"),navigator.clipboard&&navigator.clipboard.writeText(a)}function f(e,t,a,n){let s=`https://github.com/${t}.git`;return`${e}://GitHub.copilot-chat/openAgentSession?id=${a}&type=copilot&url=${encodeURIComponent(s)}&branch=${encodeURIComponent(n)}`}let g=(e,t,a)=>()=>{_(f("vscode",e,t,a),e)},y=(e,t,a)=>()=>{_(f("vscode-insiders",e,t,a),e)},x=(e,t)=>()=>{_((0,m.t)(e,t),e)},b=(e,t)=>()=>{let a=(0,u.QS)(e,t);a&&window.open(a,"_self")};function v(e){let t,a,i,l,r,c,m,_,f,b,v=(0,s.c)(31),{pull:N,session:C}=e;v[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,p.G7)("open_agent_session_in_vscode_insiders"),v[0]=t):t=v[0];let S=t;v[1]===Symbol.for("react.memo_cache_sentinel")?(a=(0,p.G7)("open_agent_session_in_vscode_stable"),v[1]=a):a=v[1];let w=a;v[2]!==N.global_relay_id||v[3]!==N.head_ref_name||v[4]!==N.repository_nwo?(i=g(N.repository_nwo,N.global_relay_id,N.head_ref_name),v[2]=N.global_relay_id,v[3]=N.head_ref_name,v[4]=N.repository_nwo,v[5]=i):i=v[5];let I=i;v[6]!==N.global_relay_id||v[7]!==N.head_ref_name||v[8]!==N.repository_nwo?(l=y(N.repository_nwo,N.global_relay_id,N.head_ref_name),v[6]=N.global_relay_id,v[7]=N.head_ref_name,v[8]=N.repository_nwo,v[9]=l):l=v[9];let k=l;v[10]!==N.number||v[11]!==N.repository_nwo?(r=x(N.repository_nwo,N.number),v[10]=N.number,v[11]=N.repository_nwo,v[12]=r):r=v[12];let T=r;v[13]!==N.head_ref_name||v[14]!==N.repository_id?(c=(0,u.QS)(N.repository_id,N.head_ref_name),v[13]=N.head_ref_name,v[14]=N.repository_id,v[15]=c):c=v[15];let L=c;v[16]===Symbol.for("react.memo_cache_sentinel")?(m=(0,d.k)(),v[16]=m):m=v[16];let E=m,A=!!L;v[17]!==C?(_=!!C&&(0,h.v5)(C),v[17]=C,v[18]=_):_=v[18];let O=_,$=C?.id;return v[19]!==T||v[20]!==I||v[21]!==k||v[22]!==O||v[23]!==N.global_relay_id||v[24]!==N.url||v[25]!==$?(f=(0,n.jsx)(j,{pullURL:N.url,pullGlobalRelayID:N.global_relay_id,onOpenInVSCode:I,onOpenInVSCodeInsiders:k,onOpenInGitHubDesktop:T,showVSCodeStable:w,showVSCodeInsiders:S,isSessionActive:O,sessionId:$}),v[19]=T,v[20]=I,v[21]=k,v[22]=O,v[23]=N.global_relay_id,v[24]=N.url,v[25]=$,v[26]=f):f=v[26],v[27]!==L||v[28]!==A||v[29]!==f?(b=(0,n.jsx)(o.n,{primary:!1,size:"small",isEnterprise:E,showCodespacesTab:A,codespacesPath:L,localTab:f}),v[27]=L,v[28]=A,v[29]=f,v[30]=b):b=v[30],b}function j(e){let t,a,o,c,d,u,m,h,_,f=(0,s.c)(21),{pullURL:g,pullGlobalRelayID:y,onOpenInVSCode:x,onOpenInVSCodeInsiders:b,onOpenInGitHubDesktop:v,showVSCodeInsiders:j,showVSCodeStable:C,isSessionActive:S,sessionId:w}=e,I=`gh agent-task view ${w||g} --log${S?" --follow":""}`,k=`copilot --resume=${y}`;return f[0]!==x||f[1]!==C?(t=C&&(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(l.l.Item,{onSelect:x,children:[(0,n.jsx)(l.l.LeadingVisual,{children:(0,n.jsx)(i.VscodeIcon,{})}),"Open in VS Code"]})}),f[0]=x,f[1]=C,f[2]=t):t=f[2],f[3]!==b||f[4]!==j?(a=j&&(0,n.jsxs)(l.l.Item,{onSelect:b,children:[(0,n.jsx)(l.l.LeadingVisual,{children:(0,n.jsx)(i.VscodeIcon,{})}),"Open in VS Code Insiders"]}),f[3]=b,f[4]=j,f[5]=a):a=f[5],f[6]===Symbol.for("react.memo_cache_sentinel")?(o=(0,n.jsx)(l.l.LeadingVisual,{children:(0,n.jsx)(i.DesktopDownloadIcon,{})}),f[6]=o):o=f[6],f[7]!==v?(c=(0,n.jsxs)(l.l.Item,{onSelect:v,children:[o,"Open with GitHub Desktop"]}),f[7]=v,f[8]=c):c=f[8],f[9]===Symbol.for("react.memo_cache_sentinel")?(d=(0,n.jsx)(l.l.Divider,{}),f[9]=d):d=f[9],f[10]===Symbol.for("react.memo_cache_sentinel")?(u=(0,n.jsxs)(n.Fragment,{children:["Work fast with our official CLI."," ",(0,n.jsxs)(r.A,{inline:!0,href:"https://cli.github.com",target:"_blank",rel:"noopener noreferrer",children:["Learn more",(0,n.jsx)("span",{className:"sr-only",children:" about the GitHub CLI"})]})]}),f[10]=u):u=f[10],f[11]!==I?(m=(0,n.jsx)(N,{toolName:"GitHub CLI",buttonAriaLabel:"Copy GitHub agent-task command to clipboard",inputId:"github-cli",command:I,additionalInfo:u}),f[11]=I,f[12]=m):m=f[12],f[13]!==k?(h=(0,p.G7)("mission_control_show_copilot_cli_handoff_command")&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.l.Divider,{}),(0,n.jsx)(N,{toolName:"Copilot CLI",buttonAriaLabel:"Copy Copilot CLI command to clipboard",inputId:"copilot-cli",command:k,additionalInfo:(0,n.jsxs)(n.Fragment,{children:["Automate coding tasks with Copilot CLI."," ",(0,n.jsxs)(r.A,{inline:!0,href:"https://github.com/features/copilot/cli",target:"_blank",rel:"noopener noreferrer",children:["Learn more",(0,n.jsx)("span",{className:"sr-only",children:" about the Copilot CLI"})]})]})})]}),f[13]=k,f[14]=h):h=f[14],f[15]!==t||f[16]!==a||f[17]!==c||f[18]!==m||f[19]!==h?(_=(0,n.jsxs)(l.l,{children:[t,a,c,d,m,h]}),f[15]=t,f[16]=a,f[17]=c,f[18]=m,f[19]=h,f[20]=_):_=f[20],_}function N(e){let t,a,l,r,o,d=(0,s.c)(14),{toolName:u,buttonAriaLabel:m,inputId:h,command:p,additionalInfo:_}=e;d[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,n.jsx)(i.TerminalIcon,{className:"fgColor-muted"}),d[0]=t):t=d[0],d[1]!==u?(a=(0,n.jsxs)("div",{className:"OpenInMenu-module__cliHeader--ggn5w",children:[t,(0,n.jsx)("span",{children:u})]}),d[1]=u,d[2]=a):a=d[2];let f=`${u} command`;return d[3]!==m||d[4]!==p||d[5]!==h||d[6]!==f?(l=(0,n.jsx)(c.J,{buttonAriaLabel:m,inputId:h,inputLabel:f,url:p}),d[3]=m,d[4]=p,d[5]=h,d[6]=f,d[7]=l):l=d[7],d[8]!==_?(r=_&&(0,n.jsx)("p",{className:"text-small fgColor-muted mb-0",children:_}),d[8]=_,d[9]=r):r=d[9],d[10]!==a||d[11]!==l||d[12]!==r?(o=(0,n.jsx)("ul",{children:(0,n.jsxs)("li",{className:"OpenInMenu-module__cliSection--nAe4Q",children:[a,l,r]})}),d[10]=a,d[11]=l,d[12]=r,d[13]=o):o=d[13],o}try{v.displayName||(v.displayName="OpenInMenu")}catch{}try{j.displayName||(j.displayName="CustomLocalTab")}catch{}try{N.displayName||(N.displayName="CLICommandListItem")}catch{}},79988:(e,t,a)=>{a.d(t,{c$:()=>n,n5:()=>s,z4:()=>i});let n="global_sso_banner",s=3,i="dismissed_sso_orgs"},86296:(e,t,a)=>{a.d(t,{u$:()=>tk,pP:()=>tS});var n=a(74848),s=a(16522),i=a(7104),l=a(3433),r=a(69726),o=a(96540),c=a(53627),d=a(44296),u=a(89466),m=a(34001),h=a(95254),p=a(47723),_=a(67154),f=a(81457),g=a(86101);let y=e=>{let t,a,i,l=(0,s.c)(8),{message:r,session:o}=e,{data:c}=(0,g.B)(o.agent_id),d=c?.display_name||"Agent";return l[0]!==o.agent_id?(t=(0,n.jsx)(f.l,{size:32,animationType:"static",loopAnimation:!1,agentId:o.agent_id}),l[0]=o.agent_id,l[1]=t):t=l[1],l[2]!==d||l[3]!==r?(a=(0,n.jsxs)("p",{className:"CopilotInitialMessage-module__message--w_WDE",children:[d," ",r]}),l[2]=d,l[3]=r,l[4]=a):a=l[4],l[5]!==t||l[6]!==a?(i=(0,n.jsxs)("div",{className:"CopilotInitialMessage-module__container--e58G3",children:[t,a]}),l[5]=t,l[6]=a,l[7]=i):i=l[7],i};try{y.displayName||(y.displayName="CopilotInitialMessage")}catch{}var x=a(84268),b=a(34164),v=a(53419),j=a(4817),N=a(21373);function C(e){let t,a,i,l,r,c,d,u,m,h,p=(0,s.c)(28),{markdown:_,className:f,extensions:g,maxHeight:y}=e,x=void 0===y?500:y,v=(0,o.useRef)(null),[C,w]=(0,o.useState)(!1),[I,k]=(0,o.useState)(!1);p[0]!==x?(t=()=>{let e=v.current;if(!e)return;let t=()=>{w(e.scrollHeight>x)};t();let a=new ResizeObserver(()=>t());a.observe(e);let n=new MutationObserver(()=>t());return n.observe(e,{childList:!0,subtree:!0,characterData:!0}),()=>{a.disconnect(),n.disconnect()}},p[0]=x,p[1]=t):t=p[1],p[2]!==_||p[3]!==x?(a=[_,x],p[2]=_,p[3]=x,p[4]=a):a=p[4],(0,o.useEffect)(t,a),p[5]===Symbol.for("react.memo_cache_sentinel")?(i=()=>{k(S)},p[5]=i):i=p[5];let T=i,L=`${x}px`;p[6]!==L?(l={"--max-height":L},p[6]=L,p[7]=l):l=p[7];let E=l,A=C&&"ExpandableMarkdown-module__overflowing--fFwej",O=I&&"ExpandableMarkdown-module__expanded--cnmCC";p[8]!==A||p[9]!==O?(r=(0,b.$)(A,O),p[8]=A,p[9]=O,p[10]=r):r=p[10];let $=C&&!I;return p[11]!==f?(c=(0,b.$)("ExpandableMarkdown-module__content--VRh1s",f),p[11]=f,p[12]=c):c=p[12],p[13]!==g||p[14]!==_||p[15]!==c?(d=(0,n.jsx)(j.To,{markdown:_,className:c,extensions:g}),p[13]=g,p[14]=_,p[15]=c,p[16]=d):d=p[16],p[17]!==r||p[18]!==$||p[19]!==d?(u=(0,n.jsx)("div",{ref:v,className:r,inert:$,children:d}),p[17]=r,p[18]=$,p[19]=d,p[20]=u):u=p[20],p[21]!==I||p[22]!==C?(m=C&&(0,n.jsx)(N.Q,{variant:"invisible",size:"small",onClick:T,className:"ExpandableMarkdown-module__toggle--AAV9i",children:I?"Show less":"Show more"}),p[21]=I,p[22]=C,p[23]=m):m=p[23],p[24]!==u||p[25]!==m||p[26]!==E?(h=(0,n.jsxs)("div",{style:E,children:[u,m]}),p[24]=u,p[25]=m,p[26]=E,p[27]=h):h=p[27],h}function S(e){return!e}try{C.displayName||(C.displayName="ExpandableMarkdown")}catch{}var w=a(77430);let I=/(@[a-zA-Z0-9_-]+\[agent\]|@copilot)/gi;function k(e,t){let a=e.toLowerCase();if("@copilot"===a)return{mentionText:e,isCurrentAgent:(t?.display_name?.toLowerCase()==="copilot")??!1,type:"copilot"};if(a.endsWith("[agent]")){let a=e.slice(1,-7).toLowerCase();return t?.display_name?{mentionText:e,isCurrentAgent:a===t.display_name.toLowerCase().replace(/\s+/g,"-"),type:"agent"}:{mentionText:e,isCurrentAgent:!1,type:"agent"}}return{mentionText:e,isCurrentAgent:!1,type:"unknown"}}let T=(e,t)=>e.replace(I,e=>{let a=k(e,t);if(a.isCurrentAgent){if("copilot"===a.type)return`[${e}](https://gh.io/copilot-coding-agent-docs)`;else if("agent"===a.type&&t)return`[${e}](${t.doc_url})`}return e}),L=["ios_mobile_mission_control","android_mobile_mission_control","ios_mobile_repo_profile","android_mobile_repo_profile"],E=e=>{let t,a,i,l,r,o,c,d,u,m,h=(0,s.c)(32),{currentUser:p,threadId:_,session:f,message:y,agentId:j}=e,{data:N}=(0,g.B)(j);h[0]!==f.id||h[1]!==f.resource_global_id||h[2]!==_?(t=(e,t,a)=>{let s=a?` from ${a} `:" from ";return(0,n.jsxs)(n.Fragment,{children:[s,t?(0,n.jsx)(x.A,{href:t,inline:!0,onClick:()=>{(0,v.BI)("agent_sessions.task_view",{target:"VIEW_SESSION_LINK",session_id:f.id,task_id:f.resource_global_id,thread_id:_})},children:e}):(0,n.jsx)("span",{children:e})]})},h[0]=f.id,h[1]=f.resource_global_id,h[2]=_,h[3]=t):t=h[3];let S=t;h[4]!==S||h[5]!==f.event_identifiers||h[6]!==f.event_type||h[7]!==f.event_url||h[8]!==_?(a=()=>{let e=f.event_type,t=f.event_identifiers,a=f.event_url;if(_)return S("conversation",`${window.location.origin}/copilot/c/${_}`,"a");if(!e)return null;if("issues_agent_assignment"===e){let e=t?.find(A)?.split("::")[1];return e?S(`issue #${e}`,a):S("issue",a,"an")}return"linear_webhook"===e?S("Linear",a):L.includes(e)?S("GitHub Mobile"):null},h[4]=S,h[5]=f.event_identifiers,h[6]=f.event_type,h[7]=f.event_url,h[8]=_,h[9]=a):a=h[9];let I=a,k=f.event_content,E=p?.id===f.user_id?"You":p?.login??"User",O=!!k;return h[10]!==O?(i=(0,b.$)("UserInitialMessage-module__meta--AaiF8",{"UserInitialMessage-module__metaSmall--RD7jw":O}),h[10]=O,h[11]=i):i=h[11],h[12]!==E?(l=(0,n.jsx)("span",{children:E}),h[12]=E,h[13]=l):l=h[13],h[14]!==I?(r=I(),h[14]=I,h[15]=r):r=h[15],h[16]!==y||h[17]!==i||h[18]!==l||h[19]!==r?(o=(0,n.jsxs)("p",{className:i,children:[l," ",y,r]}),h[16]=y,h[17]=i,h[18]=l,h[19]=r,h[20]=o):o=h[20],h[21]!==N||h[22]!==k?(c=k&&(0,n.jsx)(C,{className:"UserInitialMessage-module__agentMentionText--Dfh0u",markdown:N?T(k,N):k}),h[21]=N,h[22]=k,h[23]=c):c=h[23],h[24]!==o||h[25]!==c?(d=(0,n.jsxs)("div",{className:"UserInitialMessage-module__messageBubble--n7c_O",children:[o,c]}),h[24]=o,h[25]=c,h[26]=d):d=h[26],h[27]!==p?(u=p&&(0,n.jsx)("div",{className:"UserInitialMessage-module__avatarContainer--k46Fj",children:(0,n.jsx)(w.r,{src:p.primaryAvatarUrl,size:24})}),h[27]=p,h[28]=u):u=h[28],h[29]!==u||h[30]!==d?(m=(0,n.jsxs)("div",{className:"UserInitialMessage-module__container--j2mCV",children:[d,u]}),h[29]=u,h[30]=d,h[31]=m):m=h[31],m};try{E.displayName||(E.displayName="UserInitialMessage")}catch{}function A(e){return e.startsWith("issue::")}var O=a(82839),$=a(38621),R=a(94236),D=a(26108),P=a(5524),H=a(27566),q=a(62189);let M="SessionHeader-module__container--BCSgM";var V=a(12385),F=a(24939),U=a(40260);function B(e){let t,a,n=(0,s.c)(6),{containerRef:i,behavior:l,smoothThreshold:r}=e,o=void 0===l?"auto":l;n[0]!==i||n[1]!==o||n[2]!==r?(t=e=>{let t=void 0===e?o:e,{distance:a,element:n,targetTop:s}=(e=>{if(!e){let e=document.scrollingElement||document.documentElement,t=window.scrollY||window.pageYOffset,a=e.scrollHeight;return{element:null,targetTop:a,distance:Math.abs(a-t)}}return{element:e,targetTop:e.scrollHeight,distance:Math.abs(e.scrollHeight-e.scrollTop)}})(i?.current),l=t;"auto"===t&&void 0!==r&&(l=a>=r?"smooth":"auto"),n?n.scrollTo({top:s,behavior:l}):window.scrollTo({top:s,behavior:l})},n[0]=i,n[1]=o,n[2]=r,n[3]=t):t=n[3];let c=t;return n[4]!==c?(a={scrollToBottom:c},n[4]=c,n[5]=a):a=n[5],a}function z(e){let t,a,i,l,r,c,u,m,h,p,f,g,y,x,j,N,C,S,w,I,k,T,L,E,A,O,z,W,G,K=(0,s.c)(91),{nwo:Y,currentUserCanPush:X,isCollapsed:Q,onModifierClick:J,scrollContainerRef:Z,hideStopButton:ee,contentId:et,onOpenChange:ea,sticky:en}=e,es=void 0===en||en,{session:ei}=(0,d.Lg)(),el=Y??null;K[0]!==ei.workflow_run_id||K[1]!==el?(t=(0,H.A)(el,ei.workflow_run_id),K[0]=ei.workflow_run_id,K[1]=el,K[2]=t):t=K[2];let er=t,eo=(0,q.UV)(ei.resource_global_id,ei.id),ec=!!(er||eo),ed=(0,o.useRef)(null);K[3]!==ei?(a=(0,_.v5)(ei),K[3]=ei,K[4]=a):a=K[4];let eu=a,em=(0,_.VY)(ei),eh=(0,_.K9)(ei);K[5]!==ei?(i=(0,_.mk)(ei),K[5]=ei,K[6]=i):i=K[6];let ep=i,e_=(0,_.cv)(ei),[ef,eg]=(0,o.useState)(!1);K[7]!==Z?(l={containerRef:Z,behavior:"smooth"},K[7]=Z,K[8]=l):l=K[8];let{scrollToBottom:ey}=B(l);K[9]!==ei.id||K[10]!==ei.resource_global_id?(r=e=>{e&&(eg(!0),(0,v.BI)("agent_sessions.task_view",{target:"STOP_SESSION_BUTTON",session_id:ei.id,task_id:ei.resource_global_id}))},K[9]=ei.id,K[10]=ei.resource_global_id,K[11]=r):r=K[11];let ex=r;K[12]!==ep||K[13]!==ef?(u=()=>{if(ep&&ef){let e=setTimeout(()=>eg(!1),0);return()=>clearTimeout(e)}},c=[ep,ef],K[12]=ep,K[13]=ef,K[14]=c,K[15]=u):(c=K[14],u=K[15]),(0,o.useEffect)(u,c),K[16]!==eu||K[17]!==Z?(m={scrollContainerRef:Z,elementRef:ed,enabled:eu,offset:-8},K[16]=eu,K[17]=Z,K[18]=m):m=K[18];let{isLeaving:eb}=function(e){let t,a,n,i,l,r=(0,s.c)(11),{scrollContainerRef:c,elementRef:d,enabled:u,offset:m}=e,h=void 0===m?0:m,[p,_]=(0,o.useState)(!1),f=(0,o.useRef)(p);return r[0]!==p?(t=()=>{f.current=p},a=[p],r[0]=p,r[1]=t,r[2]=a):(t=r[1],a=r[2]),(0,o.useEffect)(t,a),r[3]!==d||r[4]!==u||r[5]!==h||r[6]!==c?(n=()=>{let e=c.current,t=d.current;if(!u||!e||!t)return;let a=()=>{let a=e.getBoundingClientRect(),n=t.getBoundingClientRect().bottom>a.bottom+h;n!==f.current&&_(n)};a();let n=null,s=()=>{null==n&&(n=window.requestAnimationFrame(()=>{a(),n=null}))};return e.addEventListener("scroll",s),()=>{_(!1),e.removeEventListener("scroll",s)}},i=[u,c,d,h],r[3]=d,r[4]=u,r[5]=h,r[6]=c,r[7]=n,r[8]=i):(n=r[7],i=r[8]),(0,o.useEffect)(n,i),r[9]!==p?(l={isLeaving:p},r[9]=p,r[10]=l):l=r[10],l}(m);K[19]!==Q||K[20]!==eb||K[21]!==J||K[22]!==ea||K[23]!==ey||K[24]!==ei.id||K[25]!==ei.resource_global_id?(h=e=>{if((e.altKey||e.metaKey)&&J)return e.preventDefault(),e.stopPropagation(),J(!!Q),(0,v.BI)("agent_sessions.task_view",{target:"SESSION_HEADER_MODIFIER",action:Q?"EXPAND_ALL":"COLLAPSE_ALL",session_id:ei.id,task_id:ei.resource_global_id}),!1;if((0,v.BI)("agent_sessions.task_view",{target:"SESSION_HEADER",action:Q?"EXPAND":"COLLAPSE",session_id:ei.id,task_id:ei.resource_global_id}),eb){ea(!0),setTimeout(()=>{ey()},50);return}ea(Q)},K[19]=Q,K[20]=eb,K[21]=J,K[22]=ea,K[23]=ey,K[24]=ei.id,K[25]=ei.resource_global_id,K[26]=h):h=K[26];let ev=h;K[27]!==ei.id||K[28]!==ei.resource_global_id?(p=e=>{if((0,v.BI)("agent_sessions.task_view",{target:"CLICK_WORKFLOW_LOGS_LINK",session_id:ei.id,task_id:ei.resource_global_id}),e.metaKey||e.ctrlKey)return void e.stopPropagation()},K[27]=ei.id,K[28]=ei.resource_global_id,K[29]=p):p=K[29];let ej=p;K[30]!==ei.id||K[31]!==ei.resource_global_id||K[32]!==eo?(f=async e=>{if(eo)try{let e=window.location.origin+eo;await (0,U.D)(e),(0,v.BI)("agent_sessions.task_view",{target:"COPY_SESSION_LINK",session_id:ei.id,task_id:ei.resource_global_id})}catch{e.preventDefault(),e.stopPropagation()}},K[30]=ei.id,K[31]=ei.resource_global_id,K[32]=eo,K[33]=f):f=K[33];let eN=f;e:{if(em){g="New session";break e}g=ei.name}let eC=g;t:{if(ef||ep){let e;K[34]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)($.SkipIcon,{className:"fgColor-muted"}),K[34]=e):e=K[34],y=e;break t}if(eh){let e;K[35]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)($.CheckIcon,{className:"fgColor-success"}),K[35]=e):e=K[35],y=e;break t}if(e_){let e;K[36]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)($.XCircleFillIcon,{className:"fgColor-danger"}),K[36]=e):e=K[36],y=e;break t}y=null}let eS=y;a:{if(em){x=null;break a}if(eu||eh||ep||e_){let e;K[37]!==ei.completed_at||K[38]!==ei.created_at||K[39]!==ei.state?(e=(0,n.jsx)(F.A,{createdAt:ei.created_at,completedAt:ei.completed_at,state:ei.state}),K[37]=ei.completed_at,K[38]=ei.created_at,K[39]=ei.state,K[40]=e):e=K[40],x=e;break a}x=null}let ew=x;n:{if(void 0!==ee&&ee){j=!1;break n}j=eu}let eI=j,ek=!Q,eT=!Q;K[41]!==eT?(N=(0,n.jsx)($.ChevronRightIcon,{className:"SessionHeader-module__icon--fUMu9","data-expanded":eT}),K[41]=eT,K[42]=N):N=K[42],K[43]!==et||K[44]!==ev||K[45]!==ek||K[46]!==N?(C=(0,n.jsx)("button",{onClick:ev,type:"button",className:"SessionHeader-module__toggleButton--bU9HQ","aria-expanded":ek,"aria-controls":et,"aria-labelledby":"session-header-title",children:N}),K[43]=et,K[44]=ev,K[45]=ek,K[46]=N,K[47]=C):C=K[47],K[48]!==eC?(S=(0,n.jsx)("span",{className:"SessionHeader-module__sessionName--eFIXs",id:"session-header-title",children:eC}),K[48]=eC,K[49]=S):S=K[49],K[50]!==C||K[51]!==S?(w=(0,n.jsxs)("div",{className:"SessionHeader-module__mainContent--jyuqu",children:[C,S]}),K[50]=C,K[51]=S,K[52]=w):w=K[52],K[53]!==ew||K[54]!==eS?(I=(eS||ew)&&(0,n.jsxs)("div",{className:"d-flex align-items-center gap-1 mr-2",children:[eS&&(0,n.jsx)("span",{className:"SessionHeader-module__statusIcon--qeEPF",children:eS}),ew&&(0,n.jsx)("span",{className:"text-small text-medium text-tabular-nums",children:ew})]}),K[53]=ew,K[54]=eS,K[55]=I):I=K[55],K[56]!==X||K[57]!==ex||K[58]!==ef||K[59]!==Y||K[60]!==eI?(k=eI&&(0,n.jsx)(V.l,{variant:"icon-text-button",nwo:Y,currentUserCanPush:X,onStoppingStateChange:ex,loading:ef}),K[56]=X,K[57]=ex,K[58]=ef,K[59]=Y,K[60]=eI,K[61]=k):k=K[61],K[62]!==eN||K[63]!==ej||K[64]!==eo||K[65]!==ec||K[66]!==er?(T=ec&&(0,n.jsxs)(R.W,{children:[(0,n.jsx)(R.W.Anchor,{children:(0,n.jsx)(D.K,{icon:$.KebabHorizontalIcon,"aria-label":"More actions",variant:"invisible"})}),(0,n.jsx)(R.W.Overlay,{align:"end",children:(0,n.jsxs)(P.l,{children:[er&&(0,n.jsx)(P.l.LinkItem,{href:er,onClick:ej,children:"View verbose logs"}),eo&&(0,n.jsx)(P.l.Item,{onSelect:eN,children:"Copy link"})]})})]}),K[62]=eN,K[63]=ej,K[64]=eo,K[65]=ec,K[66]=er,K[67]=T):T=K[67],K[68]!==I||K[69]!==k||K[70]!==T?(L=(0,n.jsxs)("div",{className:"SessionHeader-module__rightContent--Fvqqt",children:[I,k,T]}),K[68]=I,K[69]=k,K[70]=T,K[71]=L):L=K[71],K[72]!==w||K[73]!==L?(E=(0,n.jsxs)(n.Fragment,{children:[w,L]}),K[72]=w,K[73]=L,K[74]=E):E=K[74];let eL=E,eE=!eb&&es;K[75]!==eE?(A=(0,b.$)("SessionHeader-module__containerWrapper--caacS",{"SessionHeader-module__containerStickyToTop--HfwWn":eE}),K[75]=eE,K[76]=A):A=K[76];let eA=!Q;return K[77]!==eL||K[78]!==eu||K[79]!==eA?(O=(0,n.jsx)("div",{"data-active":eu,"data-expanded":eA,className:M,children:eL}),K[77]=eL,K[78]=eu,K[79]=eA,K[80]=O):O=K[80],K[81]!==A||K[82]!==O?(z=(0,n.jsx)("div",{ref:ed,className:A,children:O}),K[81]=A,K[82]=O,K[83]=z):z=K[83],K[84]!==eL||K[85]!==eb||K[86]!==es?(W=eb&&(0,n.jsx)("div",{className:(0,b.$)(M,es&&"SessionHeader-module__containerStickyToChatInput--JE6Gj"),children:eL}),K[84]=eL,K[85]=eb,K[86]=es,K[87]=W):W=K[87],K[88]!==z||K[89]!==W?(G=(0,n.jsxs)(n.Fragment,{children:[z,W]}),K[88]=z,K[89]=W,K[90]=G):G=K[90],G}try{z.displayName||(z.displayName="SessionHeader")}catch{}var W=a(37976),G=a(61191),K=a(77274);let Y=[{name:"Bad",value:"NEGATIVE",icon:K.pu,color:"bad"},{name:"Good",value:"POSITIVE",icon:K.ms,color:"good"}];function X(){let e,t,a,i,l,r,c,u,m=(0,s.c)(16),{session:h}=(0,d.Lg)(),[p,_]=(0,o.useState)(null),[f,g]=(0,o.useState)(h.id);m[0]!==f||m[1]!==h.id?(e=()=>{f!==h.id&&(_(null),g(h.id))},t=[h.id,f],m[0]=f,m[1]=h.id,m[2]=e,m[3]=t):(e=m[2],t=m[3]),(0,o.useEffect)(e,t);let{openFeedback:y,FeedbackDialog:x}=(0,G.f)(`session-log:session_id=${h.id}`,Y);m[4]!==y?(a=e=>{_(e),y(e)},m[4]=y,m[5]=a):a=m[5];let b=a;m[6]===Symbol.for("react.memo_cache_sentinel")?(i=e=>_(e),m[6]=i):i=m[6];let v=i;m[7]===Symbol.for("react.memo_cache_sentinel")?(l=e=>{"cancel"===e&&_(null)},m[7]=l):l=m[7];let j=l;return m[8]!==b||m[9]!==p?(r=null!=p?(0,n.jsx)(D.K,{"aria-label":`${(0,W.A)(p)} Feedback Submitted`,icon:"POSITIVE"===p?$.ThumbsupIcon:$.ThumbsdownIcon,variant:"invisible",size:"small",inactive:!0,"aria-disabled":!0}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(D.K,{icon:$.ThumbsupIcon,"aria-label":"Positive Feedback",onClick:()=>b("POSITIVE"),variant:"invisible",size:"small"}),(0,n.jsx)(D.K,{icon:$.ThumbsdownIcon,"aria-label":"Negative Feedback",onClick:()=>b("NEGATIVE"),variant:"invisible",size:"small"})]}),m[8]=b,m[9]=p,m[10]=r):r=m[10],m[11]!==x?(c=(0,n.jsx)(x,{onClose:j,onSubmitted:v}),m[11]=x,m[12]=c):c=m[12],m[13]!==r||m[14]!==c?(u=(0,n.jsxs)("div",{className:"SessionFeedbackButtons-module__container--sE3N9",children:[r,c]}),m[13]=r,m[14]=c,m[15]=u):u=m[15],u}try{X.displayName||(X.displayName="SessionFeedbackButtons")}catch{}var Q=a(16425),J=a(55127),Z=a.n(J);let ee="session-global-toggle";function et(e){let t,a,i,l,r,c,u,m,h,p,f,g,y,x,v,j,N=(0,s.c)(46),{defaultOpen:C,onOpenChange:S,scrollContainerRef:w,hideStopButton:I,onToolExpand:k,shouldHighlight:T,stickyHeaders:L,currentUserCanPush:E,pull:A,logsPollingInterval:$,currentUser:R}=e,D=void 0!==I&&I,P=void 0!==T&&T,H=void 0===L||L,{session:q}=(0,d.Lg)(),[M,V]=(0,o.useState)(void 0!==C&&C),[F,U]=(0,o.useState)(!1),B=(0,o.useRef)(null);N[0]===Symbol.for("react.memo_cache_sentinel")?(t={},N[0]=t):t=N[0];let W=(0,o.useRef)(t);N[1]===Symbol.for("react.memo_cache_sentinel")?(a=e=>{e.detail.excludeInstance!==W.current&&V(e.detail.expand)},N[1]=a):a=N[1];let G=(0,o.useRef)(a);N[2]===Symbol.for("react.memo_cache_sentinel")?(i=()=>{let e=e=>{G.current?.(e)};return document.addEventListener(ee,e),()=>{document.removeEventListener(ee,e)}},l=[],N[2]=i,N[3]=l):(i=N[2],l=N[3]),(0,o.useEffect)(i,l),N[4]===Symbol.for("react.memo_cache_sentinel")?(r=e=>{V(e);let t=new CustomEvent(ee,{detail:{expand:e,excludeInstance:W.current}});document.dispatchEvent(t)},N[4]=r):r=N[4];let K=r;N[5]!==S?(c=e=>{V(e),S(e)},N[5]=S,N[6]=c):c=N[6];let Y=c;N[7]!==q?(u=(0,_.v5)(q),N[7]=q,N[8]=u):u=N[8];let J=u,et=`session-content-${q.id}`;N[9]!==P?(m=()=>{if(!P||!B.current)return;let e=0,t=0;return e=requestAnimationFrame(()=>{t=requestAnimationFrame(()=>{B.current?.scrollIntoView({behavior:"smooth",block:"start"})})}),()=>{cancelAnimationFrame(e),cancelAnimationFrame(t)}},h=[P],N[9]=P,N[10]=m,N[11]=h):(m=N[10],h=N[11]),(0,o.useEffect)(m,h),N[12]!==P?(p=(0,b.$)("Session-module__detailsContainer--qmZLt",{"Session-module__permalinkedSession--nOoTk":P}),N[12]=P,N[13]=p):p=N[13];let ea=A?.repository_nwo,en=!!E,es=!M;N[14]!==et||N[15]!==Y||N[16]!==D||N[17]!==w||N[18]!==H||N[19]!==ea||N[20]!==en||N[21]!==es?(f=(0,n.jsx)(z,{nwo:ea,currentUserCanPush:en,isCollapsed:es,onModifierClick:K,scrollContainerRef:w,hideStopButton:D,contentId:et,onOpenChange:Y,sticky:H}),N[14]=et,N[15]=Y,N[16]=D,N[17]=w,N[18]=H,N[19]=ea,N[20]=en,N[21]=es,N[22]=f):f=N[22];let ei=A?.repository_nwo,el=$??3e3,er=A?.repository_nwo;return N[23]!==R||N[24]!==el||N[25]!==er?(g=(0,n.jsx)(O.U,{logsPollingInterval:el,nwo:er,currentUser:R,batchCompletedSessions:!0,onLogsLoadingChange:U}),N[23]=R,N[24]=el,N[25]=er,N[26]=g):g=N[26],N[27]!==k||N[28]!==q||N[29]!==ei||N[30]!==g?(y=(0,n.jsx)("div",{className:"Session-module__logsContainer--uhCCi",children:(0,n.jsx)(Q.$X,{variant:"mission-control",onToolExpand:k,session:q,sessionNwo:ei,children:g})}),N[27]=k,N[28]=q,N[29]=ei,N[30]=g,N[31]=y):y=N[31],N[32]!==F||N[33]!==q?(x=(q.state===_.Yj.Completed||q.state===_.Yj.InProgress)&&q.premium_requests>0&&!F&&(0,n.jsxs)("div",{className:"Session-module__bottomFooter--HIesg",children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("span",{className:"text-semibold",children:[q.premium_requests," "]}),(0,n.jsxs)("span",{className:"fgColor-muted",children:["premium ",Z()("request",q.premium_requests)]})]}),!(0,_.v5)(q)&&!F&&(0,n.jsx)(X,{})]}),N[32]=F,N[33]=q,N[34]=x):x=N[34],N[35]!==et||N[36]!==M||N[37]!==y||N[38]!==x?(v=(0,n.jsxs)("div",{id:et,className:"Session-module__contentContainer--IM2G9","data-expanded":M,children:[y,x]}),N[35]=et,N[36]=M,N[37]=y,N[38]=x,N[39]=v):v=N[39],N[40]!==J||N[41]!==q.id||N[42]!==p||N[43]!==f||N[44]!==v?(j=(0,n.jsxs)("div",{ref:B,className:p,"data-active":J,"data-session-id":q.id,children:[f,v]}),N[40]=J,N[41]=q.id,N[42]=p,N[43]=f,N[44]=v,N[45]=j):j=N[45],j}try{et.displayName||(et.displayName="Session")}catch{}let ea="TaskChat-module__blankSlateContainer--K8GiA";var en=a(93505),es=a(51213),ei=a(56708),el=a(86877),er=a(97286),eo=a(94747),ec=a(96379),ed=a(95869);function eu({pull:e,sessions:t=[],initialData:a=[],agentId:n}){let{data:s}=(0,g.B)(n),i=s?.display_name.toLowerCase()||"copilot",{data:l=[]}=(0,ed.n)(e?.repository_nwo),r=function(e){let t=e.filter(e=>"pull_request_comment"===e.event_type||"pull_request_comment_non_copilot_pull_request"===e.event_type).map(e=>e.event_identifiers).flat().sort(),a=e.filter(e=>"pull_request_review"===e.event_type||"pull_request_review_non_copilot_pull_request"===e.event_type).map(e=>e.event_identifiers).flat().sort(),n=new URLSearchParams;for(let e of t)null!=e&&n.append("pull_request_comment_ids[]",e.toString());for(let e of a)null!=e&&n.append("pull_request_review_ids[]",e.toString());return n.toString()}(t),o=(0,er.I)({queryKey:["agent-mentions",e?.id,r],queryFn:async()=>{if(!e?.id)return[];let t=await fetch(`/copilot/agent-sessions/pull-requests/${e.id}/agent-mentions?${r}`,{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(!t.ok)throw Error("Failed to fetch pull request comments");return(await t.json()).agent_mentions},enabled:t.length>0&&!!e?.id,initialData:a,placeholderData:e=>e}),c=(0,eo.n)({mutationFn:async t=>{if(!e)throw Error("Cannot create mention without a pull request");let a="copilot"===i?`@${i}`:`@${i}[agent]`,n=t.match(/^@([\w-]+)\[agent\](?:\s|$)/i),s=t.match(/^@([\w-]+)(?:\s|$)/i),r=e=>l.some(t=>t.display_name.toLowerCase()===e.toLowerCase());if(!(n?.[1]&&r(n[1])||/^@copilot(?:\s|$)/i.test(t)))if(s?.[1]&&r(s[1])){let e=s[1];t=t.replace(RegExp(`^@${e}`,"i"),`@${e}[agent]`)}else t=`${a} ${t.trim()}`;let o=await (0,ec.Sr)(`/${e.repository_nwo}/pull/${e.number}/page_data/create_timeline_comment`,{method:"POST",headers:{Accept:"application/json"},body:{text:t}}),c=await o.json();if(!o.ok)throw Error("Failed to submit comment");return(0,v.BI)("agent_sessions.task_view",{target:"CREATE_COMMAND_POST_SESSION",pull_id:e.id,pull_number:e.number}),c}}),d=async(e,t)=>{try{let a=await c.mutateAsync(e);return t?.onSuccess?.(a),a}catch(e){throw t?.onError?.(),e}};return{...o,createMention:d}}var em=a(13038),eh=a(97665),ep=a(51120),e_=a(55899);function ef(e){let t,a,n,i,l,r,o=(0,s.c)(14),c=(0,eh.jE)();o[0]===Symbol.for("react.memo_cache_sentinel")?(t=["createCommand"],o[0]=t):t=o[0],o[1]!==c?(a=async e=>{let{sessionId:t,content:a,optimisticId:n}=e,s=["agent-session-commands",t];await c.cancelQueries({queryKey:s});let i=c.getQueryData(s),l={id:n,external_id:null,user_id:-1,session_id:t,content:a,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),state:"queued",error:null},r={commands:[...i?.commands??[],l]};return c.setQueryData(s,r),{queryKey:s,optimisticId:n}},o[1]=c,o[2]=a):a=o[2],o[3]!==e||o[4]!==c?(n=(t,a,n)=>{n?.queryKey&&n?.optimisticId&&c.setQueryData(n.queryKey,e=>e?{commands:e.commands.filter(e=>e.id!==n.optimisticId)}:e),e?.onError?.(t)},o[3]=e,o[4]=c,o[5]=n):n=o[5],o[6]!==c?(i=(e,t,a)=>{a?.queryKey&&(c.setQueryData(a.queryKey,t=>t?{commands:t.commands.map(t=>t.id===a.optimisticId?{...e,content:e.content??t.content}:t)}:t),c.invalidateQueries({queryKey:a.queryKey}))},o[6]=c,o[7]=i):i=o[7],o[8]!==a||o[9]!==n||o[10]!==i?(l={mutationKey:t,onMutate:a,mutationFn:eg,onError:n,onSuccess:i},o[8]=a,o[9]=n,o[10]=i,o[11]=l):l=o[11];let d=(0,eo.n)(l);return o[12]!==d?(r={createCommand:e=>{let t=`optimistic-${(0,e_.u)()}`;d.mutate({...e,optimisticId:t})}},o[12]=d,o[13]=r):r=o[13],r}async function eg(e){let{sessionId:t,content:a}=e,n=await (0,ep.I)({path:`/agents/sessions/${t}/commands`,method:"POST",body:{content:a}});if(!n.ok)throw Error("Failed to submit command");let s=await n.json();return s.state||(s.state="queued"),s}function ey(e){let t,a,i,l,r,c,d,u,m,h,p,f,y,b,v,j,N,C,S,w,I,k,T=(0,s.c)(74),{taskAgentId:L,activeSession:E,onAddPendingSession:A,onClearPendingSession:O,payload:R,scrollToBottom:D,inputRef:P,chatInputRef:H}=e,{pull:q,steeringEnabled:M,currentUserCanPush:V}=R,[F,U]=(0,o.useState)(!1),{data:B,isLoading:z}=(0,g.B)(L),{data:W,isLoading:G}=(0,ed.n)(q?.repository_nwo);T[0]!==G||T[1]!==L||T[2]!==W?(t=L&&!G&&W&&W.length>0&&!W.some(e=>Number(e.id)===L),T[0]=G,T[1]=L,T[2]=W,T[3]=t):t=T[3];let K=t;T[4]!==B?.display_name?(a=B?.display_name?.toLowerCase()||"agent",T[4]=B?.display_name,T[5]=a):a=T[5];let Y=a,X=z||"copilot"===Y,Q=!!E&&X;T[6]!==E?(i=E&&(0,_.VY)(E),T[6]=E,T[7]=i):i=T[7];let J=i;T[8]!==E?.user_id||T[9]!==R.sessionOwners?(l=R.sessionOwners.find(e=>e.id===E?.user_id)||null,T[8]=E?.user_id,T[9]=R.sessionOwners,T[10]=l):l=T[10];let Z=l,{currentUserIsSessionOwner:ee}=(0,em.i)();T[11]!==F||T[12]!==P?(r=()=>{let e,t=P.current;if(!t)return;let a=()=>{F&&(e=setTimeout(()=>{U(!1)},0))};return t.addEventListener("input",a),()=>{t.removeEventListener("input",a),e&&clearTimeout(e)}},c=[F,P],T[11]=F,T[12]=P,T[13]=r,T[14]=c):(r=T[13],c=T[14]),(0,o.useEffect)(r,c),T[15]!==q||T[16]!==L?(d={pull:q,agentId:L},T[15]=q,T[16]=L,T[17]=d):d=T[17];let{createMention:et}=eu(d);T[18]===Symbol.for("react.memo_cache_sentinel")?(u={onError:()=>{U(!0)}},T[18]=u):u=T[18];let{createCommand:ea}=ef(u);T[19]!==E||T[20]!==ea||T[21]!==Q?(m=e=>{Q&&E&&ea({sessionId:E.id,content:e})},T[19]=E,T[20]=ea,T[21]=Q,T[22]=m):m=T[22];let er=m;T[23]!==et||T[24]!==er||T[25]!==A||T[26]!==O||T[27]!==D||T[28]!==Q||T[29]!==L?(h=async e=>{U(!1);try{if(Q){er(e),D();return}A(e,{agentId:L}),await et(e,{onError:()=>{O()}}),D()}catch{throw U(!0),new ei.q(e)}},T[23]=et,T[24]=er,T[25]=A,T[26]=O,T[27]=D,T[28]=Q,T[29]=L,T[30]=h):h=T[30];let eo=h;T[31]!==E||T[32]!==Z?.login||T[33]!==B?.display_name||T[34]!==K||T[35]!==V||T[36]!==ee||T[37]!==X||T[38]!==q||T[39]!==Q||T[40]!==M?(p=()=>K?"Your organization has removed access for this agent. Contact your administrator for more information.":E&&!X?`Wait for the session to be complete to steer ${B?.display_name||"agent"} sessions`:M?V?q?.state&&"open"!==q.state?`Pull request is ${q.state}`:ee?void 0:Q?`Only ${Z?.login??"the session owner"} can steer this session`:q?.url?(0,n.jsxs)(n.Fragment,{children:["Only the author of the task can ask for changes."," ",(0,n.jsx)(x.A,{href:q.url,inline:!0,children:"View pull request"})," ","to request more changes."]}):"Only the author of the task can ask for changes.":"You do not have write permission on the repository":"Steering Copilot requires an active subscription",T[31]=E,T[32]=Z?.login,T[33]=B?.display_name,T[34]=K,T[35]=V,T[36]=ee,T[37]=X,T[38]=q,T[39]=Q,T[40]=M,T[41]=p):p=T[41];let ec=p,eh=B?.display_name||"Agent",ep=J?`Waiting for ${eh} to start session...`:Q?`Steer active session while ${eh} is working`:"What would you like to change?";T[42]!==ec?(f=ec(),T[42]=ec,T[43]=f):f=T[43];let e_=f,eg=!!e_,ey=!eg&&!Q&&!J;T[44]!==P||T[45]!==ey?(y=()=>{let e=P.current;e&&(ey?e.setAttribute("aria-describedby","task-chat-input-help"):e.removeAttribute("aria-describedby"))},b=["task-chat-input-help",ey,P],T[44]=P,T[45]=ey,T[46]=y,T[47]=b):(y=T[46],b=T[47]),(0,o.useEffect)(y,b),T[48]===Symbol.for("react.memo_cache_sentinel")?(v=(0,n.jsx)(el.A.Label,{visuallyHidden:!0,children:"New prompt"}),T[48]=v):v=T[48];let ex=J?"Wait for the session to be started":void 0;T[49]!==ep||T[50]!==ex?(j=[{name:es.II.Task,supportsMCP:!1,supportsAttachments:!1,supportsAutocompletion:!1,supportsSpaces:!1,supportsReferenceAttachments:!1,icon:$.AgentIcon,placeholder:ep,submitLabel:ex}],T[49]=ep,T[50]=ex,T[51]=j):j=T[51];let eb=J||eg;return T[52]!==ey?(N=ey?(0,n.jsx)("p",{id:"task-chat-input-help",className:"TaskChatInput-module__extraToolbarText--MRY2J",children:"Submitting will post a pull request comment"}):null,T[52]=ey,T[53]=N):N=T[53],T[54]!==H||T[55]!==eo||T[56]!==P||T[57]!==eg||T[58]!==j||T[59]!==eb||T[60]!==N?(C=(0,n.jsx)(en.V,{onSubmit:eo,textAreaRef:P,chatInputRef:H,modes:j,size:"large",isStreaming:!1,disabled:eg,submitDisabled:eb,extraToolbar:N}),T[54]=H,T[55]=eo,T[56]=P,T[57]=eg,T[58]=j,T[59]=eb,T[60]=N,T[61]=C):C=T[61],T[62]!==e_||T[63]!==eg?(S=eg&&(0,n.jsx)("div",{className:"TaskChatInput-module__blockedOverlay--YUGdv",children:(0,n.jsxs)("div",{className:"TaskChatInput-module__blockedContent--lQFKZ",children:[(0,n.jsx)($.LockIcon,{size:16,className:"TaskChatInput-module__blockedIcon--f_JVW"}),(0,n.jsx)("p",{className:"mb-0",children:e_})]})}),T[62]=e_,T[63]=eg,T[64]=S):S=T[64],T[65]!==C||T[66]!==S?(w=(0,n.jsxs)("div",{className:"TaskChatInput-module__inputWrapper--eke62",children:[C,S]}),T[65]=C,T[66]=S,T[67]=w):w=T[67],T[68]!==F||T[69]!==eg?(I=F&&!eg&&(0,n.jsx)(el.A.Validation,{variant:"error",className:"pt-2",children:"Failed to submit latest message"}),T[68]=F,T[69]=eg,T[70]=I):I=T[70],T[71]!==w||T[72]!==I?(k=(0,n.jsxs)(el.A,{className:"TaskChatInput-module__formControl--zRdu3",children:[v,w,I]}),T[71]=w,T[72]=I,T[73]=k):k=T[73],k}try{ey.displayName||(ey.displayName="TaskChatInput")}catch{}var ex=a(7892),eb=a(81945);let ev="UserMessage-module__container--n_nga",ej="UserMessage-module__messageContainer--l7UxI",eN="UserMessage-module__messageMeta--zsApi",eC="UserMessage-module__messageText--Q3g30",eS="UserMessage-module__avatarContainer--ALfST",ew=e=>{let t,a,i,l,r=(0,s.c)(10),{body:o,agentInfo:c}=e;if(r[0]!==c||r[1]!==o){i=Symbol.for("react.early_return_sentinel");e:{let e=function(e,t){let a,s=[],i=new RegExp(I.source,I.flags),l=0;for(;null!==(a=i.exec(e));){eI(s,e,l,a.index);let i=a[0];(function(e,t,a,s){let i=function(e,t){let a=k(e,t);if(a.isCurrentAgent){if("copilot"===a.type)return(0,n.jsx)("a",{href:"https://gh.io/copilot-coding-agent-docs","data-hovercard-url":"/copilot/hovercard?bot=copilot-swe-agent","data-hovercard-type":"copilot",children:e});if("agent"===a.type)return(0,n.jsx)("a",{href:t.doc_url,"data-hovercard-url":`/copilot/hovercard?bot=${t.slug}`,"data-hovercard-type":"copilot","aria-label":`Information about the ${t.display_name} agent`,children:e})}return(0,n.jsx)(C,{markdown:e})}(t,s);e.push({key:`link-${a}`,element:i})})(s,i,a.index,t),l=a.index+i.length}return eI(s,e,l,e.length),s}(o,c);if(0===e.length){let e;r[5]!==o?(e=(0,n.jsx)(C,{className:eC,markdown:o}),r[5]=o,r[6]=e):e=r[6],i=e;break e}t=eC,a=e.map(ek)}r[0]=c,r[1]=o,r[2]=t,r[3]=a,r[4]=i}else t=r[2],a=r[3],i=r[4];return i!==Symbol.for("react.early_return_sentinel")?i:(r[7]!==t||r[8]!==a?(l=(0,n.jsx)("div",{className:t,children:a}),r[7]=t,r[8]=a,r[9]=l):l=r[9],l)};function eI(e,t,a,s){if(s>a){let i=t.slice(a,s);e.push({key:`text-${a}`,element:(0,n.jsx)(C,{markdown:i})})}}try{ew.displayName||(ew.displayName="MessageTextWithHovercards")}catch{}function ek(e){let{key:t,element:a}=e;return(0,n.jsx)("span",{children:a},t)}var eT=a(69599);let eL=e=>{let t,a,i,l,r,o=(0,s.c)(17),{mention:c,isLoading:d,agentId:u}=e,m=void 0!==d&&d,{data:h}=(0,g.B)(u),{currentUser:p}=(0,em.i)();if(!c){let e;return o[0]!==m?(e=m?(0,n.jsx)(eA,{}):(0,n.jsx)(eE,{}),o[0]=m,o[1]=e):e=o[1],e}o[2]!==p||o[3]!==c.author.display_login||o[4]!==c.author.id?(t=()=>p&&c.author.id===p.id?"You":c.author.display_login,o[2]=p,o[3]=c.author.display_login,o[4]=c.author.id,o[5]=t):t=o[5];let _=t;return o[6]!==_?(a=_(),o[6]=_,o[7]=a):a=o[7],o[8]!==h||o[9]!==c||o[10]!==a?(i=(0,n.jsx)(eO,{mention:c,agentInfo:h,authorDisplayLogin:a}),o[8]=h,o[9]=c,o[10]=a,o[11]=i):i=o[11],o[12]!==c.author.avatar_url?(l=(0,n.jsx)("div",{className:eS,children:(0,n.jsx)(w.r,{src:c.author.avatar_url,size:24})}),o[12]=c.author.avatar_url,o[13]=l):l=o[13],o[14]!==i||o[15]!==l?(r=(0,n.jsxs)("div",{className:ev,children:[i,l]}),o[14]=i,o[15]=l,o[16]=r):r=o[16],r},eE=()=>{let e,t=(0,s.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)("div",{className:ev,children:(0,n.jsx)("div",{className:ej,children:(0,n.jsx)("p",{className:eC,children:"Failed to fetch triggering comment"})})}),t[0]=e):e=t[0],e},eA=()=>{let e,t,a,i=(0,s.c)(3);return i[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)("span",{className:eN,children:(0,n.jsx)(eb.O,{variant:"rounded",height:"sm",width:"80px"})}),i[0]=e):e=i[0],i[1]===Symbol.for("react.memo_cache_sentinel")?(t=(0,n.jsxs)("div",{className:ej,children:[e,(0,n.jsx)("div",{className:eC,children:(0,n.jsx)(eb.O,{variant:"rounded",height:"sm",width:"random"})})]}),i[1]=t):t=i[1],i[2]===Symbol.for("react.memo_cache_sentinel")?(a=(0,n.jsxs)("div",{className:ev,children:[t,(0,n.jsx)("div",{className:eS,children:(0,n.jsx)(eb.O,{variant:"elliptical",height:"24px",width:"24px"})})]}),i[2]=a):a=i[2],a},eO=e=>{let t,a,i,l,r=(0,s.c)(14),{mention:o,agentInfo:c,authorDisplayLogin:d}=e,u=!!o.body;return r[0]!==d||r[1]!==u||r[2]!==o?(t=u&&(0,n.jsx)(e$,{mention:o,authorDisplayLogin:d}),r[0]=d,r[1]=u,r[2]=o,r[3]=t):t=r[3],r[4]!==c||r[5]!==d||r[6]!==o?(a=(0,n.jsx)(eR,{mention:o,agentInfo:c,authorDisplayLogin:d}),r[4]=c,r[5]=d,r[6]=o,r[7]=a):a=r[7],r[8]!==o?(i="review"===o.type&&(0,n.jsx)(eD,{mention:o}),r[8]=o,r[9]=i):i=r[9],r[10]!==t||r[11]!==a||r[12]!==i?(l=(0,n.jsxs)("div",{className:ej,children:[t,a,i]}),r[10]=t,r[11]=a,r[12]=i,r[13]=l):l=r[13],l},e$=e=>{let t,a,i,l=(0,s.c)(10),{mention:r,authorDisplayLogin:o}=e,{type:c,url:d,path:u,isPending:m}=r;l[0]!==o||l[1]!==m||l[2]!==u||l[3]!==c||l[4]!==d?(t=()=>{switch(c){case"single_comment_review":return(0,n.jsxs)("span",{className:"UserMessage-module__truncatedPath--IIrJ5",children:[o," reviewed"," ",(0,n.jsx)(x.A,{muted:!0,inline:!0,href:d,children:u})]});case"review":return`${o} reviewed`;default:if(m)return`${o} commented`;return(0,n.jsxs)(n.Fragment,{children:[o," ",(0,n.jsx)(x.A,{muted:!0,inline:!0,href:d,children:"commented"})]})}},l[0]=o,l[1]=m,l[2]=u,l[3]=c,l[4]=d,l[5]=t):t=l[5];let h=t;return l[6]!==h?(a=h(),l[6]=h,l[7]=a):a=l[7],l[8]!==a?(i=(0,n.jsx)("span",{className:eN,children:a}),l[8]=a,l[9]=i):i=l[9],i},eR=e=>{let t,a,i=(0,s.c)(10),{mention:l,agentInfo:r,authorDisplayLogin:o}=e,c=(0,eT.G7)("copilot_3p_agent_hovercards");if("review"===l.type&&!l.body){let e,t=`${o} requested changes`;return i[0]!==t?(e=(0,n.jsx)("p",{className:eC,children:t}),i[0]=t,i[1]=e):e=i[1],e}if(!l.body)return null;if(c&&r){let e;return i[2]!==r||i[3]!==l.body?(e=(0,n.jsx)(ew,{body:l.body,agentInfo:r}),i[2]=r,i[3]=l.body,i[4]=e):e=i[4],e}return i[5]!==r||i[6]!==l.body?(t=T(l.body,r),i[5]=r,i[6]=l.body,i[7]=t):t=i[7],i[8]!==t?(a=(0,n.jsx)(C,{className:eC,markdown:t}),i[8]=t,i[9]=a):a=i[9],a},eD=e=>{let t,a,i,l=(0,s.c)(6),{mention:r}=e,o=r.child_comments??0,c=`${o} review comment${1!==o?"s":""}`;return l[0]!==c||l[1]!==r.url?(t=(0,n.jsx)(x.A,{muted:!0,inline:!0,href:r.url,children:c}),l[0]=c,l[1]=r.url,l[2]=t):t=l[2],l[3]===Symbol.for("react.memo_cache_sentinel")?(a=(0,n.jsx)($.ArrowUpRightIcon,{size:12}),l[3]=a):a=l[3],l[4]!==t?(i=(0,n.jsxs)("span",{className:eN,children:[t,a]}),l[4]=t,l[5]=i):i=l[5],i};try{eL.displayName||(eL.displayName="UserMessage")}catch{}try{eE.displayName||(eE.displayName="ErrorMessage")}catch{}try{eA.displayName||(eA.displayName="LoadingMessage")}catch{}try{eO.displayName||(eO.displayName="MessageContent")}catch{}try{e$.displayName||(e$.displayName="MessageMeta")}catch{}try{eR.displayName||(eR.displayName="MessageText")}catch{}try{eD.displayName||(eD.displayName="ReviewCommentText")}catch{}let eP="UserProblemStatementMessage-module__messageText--tRAhl",eH=e=>{let t,a,i,l,r=(0,s.c)(10),{avatarUrl:o,avatar:c,children:d}=e;r[0]!==c||r[1]!==o?(t=c??(o&&(0,n.jsx)(w.r,{src:o,size:24})),r[0]=c,r[1]=o,r[2]=t):t=r[2];let u=t;return r[3]!==d?(a=(0,n.jsx)("div",{className:"UserMessageLayout-module__messageContainer--wAZoV",children:d}),r[3]=d,r[4]=a):a=r[4],r[5]!==u?(i=u?(0,n.jsx)("div",{className:"UserMessageLayout-module__avatarContainer--c8H_9",children:u}):null,r[5]=u,r[6]=i):i=r[6],r[7]!==a||r[8]!==i?(l=(0,n.jsxs)("div",{className:"UserMessageLayout-module__container--AxCYS",children:[a,i]}),r[7]=a,r[8]=i,r[9]=l):l=r[9],l};try{eH.displayName||(eH.displayName="UserMessageLayout")}catch{}let eq=()=>{let e,t,a,i=(0,s.c)(3);return i[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)(eb.O,{variant:"elliptical",height:"24px",width:"24px"}),i[0]=e):e=i[0],i[1]===Symbol.for("react.memo_cache_sentinel")?(t=(0,n.jsx)("span",{className:"UserMessageLoading-module__messageMeta--eRnRf",children:(0,n.jsx)(eb.O,{variant:"rounded",height:"sm",width:"80px"})}),i[1]=t):t=i[1],i[2]===Symbol.for("react.memo_cache_sentinel")?(a=(0,n.jsxs)(eH,{avatar:e,children:[t,(0,n.jsx)("div",{className:"UserMessageLoading-module__messageText--UCSoq",children:(0,n.jsx)(eb.O,{variant:"rounded",height:"sm",width:"random"})})]}),i[2]=a):a=i[2],a};try{eq.displayName||(eq.displayName="UserMessageLoading")}catch{}let eM=()=>{let e,t=(0,s.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)(eH,{children:(0,n.jsx)("p",{className:eP,children:"Failed to fetch problem statement"})}),t[0]=e):e=t[0],e},eV=e=>{let t,a,i,l,r,o,c=(0,s.c)(19),{session:d,sessionOwner:u,isLoading:m}=e,h=void 0!==m&&m,{data:p}=(0,g.B)(d.agent_id),{currentUser:_}=(0,em.i)();if(!d.event_content){let e;return c[0]!==h?(e=h?(0,n.jsx)(eq,{}):(0,n.jsx)(eM,{}),c[0]=h,c[1]=e):e=c[1],e}c[2]!==_||c[3]!==d.user_id||c[4]!==u?.login?(t=()=>_&&d.user_id===_.id?"You":u?.login??"User",c[2]=_,c[3]=d.user_id,c[4]=u?.login,c[5]=t):t=c[5];let f=t,y=u?.primaryAvatarUrl??`https://avatars.githubusercontent.com/${u?.login??"ghost"}`;c[6]!==p||c[7]!==d.event_content?(a=p?T(d.event_content??"",p):d.event_content??"",c[6]=p,c[7]=d.event_content,c[8]=a):a=c[8];let x=a;return c[9]!==f?(i=f(),c[9]=f,c[10]=i):i=c[10],c[11]!==i?(l=(0,n.jsxs)("span",{className:"UserProblemStatementMessage-module__messageMeta--QHwD0",children:[i," asked"]}),c[11]=i,c[12]=l):l=c[12],c[13]!==x?(r=(0,n.jsx)(C,{className:eP,markdown:x}),c[13]=x,c[14]=r):r=c[14],c[15]!==y||c[16]!==l||c[17]!==r?(o=(0,n.jsxs)(eH,{avatarUrl:y,children:[l,r]}),c[15]=y,c[16]=l,c[17]=r,c[18]=o):o=c[18],o};try{eM.displayName||(eM.displayName="ErrorMessage")}catch{}try{eV.displayName||(eV.displayName="UserProblemStatementMessage")}catch{}function eF(e,t,a,n){let s=new Date().toISOString(),{agentId:i,isPRComment:l=!0,taskId:r}=n??{};return{id:"pending-session",name:"New session",user_id:a??0,agent_id:i??0,state:_.Yj.Queued,owner_id:0,repo_id:0,resource_type:"pull",resource_id:e??0,resource_global_id:"",created_at:s,last_updated_at:s,completed_at:void 0,workflow_run_id:0,log_entries:[],error:null,premium_requests:0,event_identifiers:l?[t]:null,event_type:l?"pull_request_comment":"api_call_received",event_url:null,event_content:l?null:t,isPending:!0,model:"",task_id:r}}let eU=e=>{let t=(0,s.c)(3),{session:a}=e;if(a){let e,s;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)($.LockIcon,{}),t[0]=e):e=t[0],t[1]!==a.name?(s=(0,n.jsxs)("div",{className:"SessionInitialMessage-module__container--qMtpP",children:[e,(0,n.jsxs)("p",{className:"SessionInitialMessage-module__message--Blpx0",children:["Viewing session ",(0,n.jsx)("span",{className:"text-bold",children:a.name})," only"]})]}),t[1]=a.name,t[2]=s):s=t[2],s}};try{eU.displayName||(eU.displayName="SessionInitialMessage")}catch{}var eB=a(42455);function ez(e){return e}function eW(e){return e.id}function eG(e){return["completed","failed","cancelled"].includes(e.state.toLowerCase())}async function eK(e){let t={},a=e.map(async e=>{try{let t=await eY(e);return{sessionId:e,logs:t}}catch(t){return console.error(`Error fetching logs for session ${e}:`,t),{sessionId:e,logs:[]}}});for(let{sessionId:e,logs:n}of(await Promise.all(a)))t[e]=n;return t}async function eY(e){let t=await (0,ep.I)({path:`/agents/sessions/${e}/logs`});if(!t.ok)throw Error(`Error fetching logs for session ${e}: ${t.statusText}`);let a=await t.text(),n=[];for(let e of eX(a))if((0,_.X)(e))n.push(e);else throw Error(`Invalid log entry received: ${JSON.stringify(e)}`);return n}function eX(e){return e.split(`

`).map(e=>e.trim()).filter(e=>e.length>0).map(e=>e.split(`
`).filter(e=>e.startsWith("data: ")).map(e=>e.substring(6)).join(`
`)).filter(e=>"[DONE]"!==e).filter(e=>e.length>0).map(e=>JSON.parse(e))}var eQ=a(98747);let eJ="CopilotMessage-module__container--hQBT6",eZ="CopilotMessage-module__message--luHTt",e0="CopilotMessage-module__text--A3MHK",e1="CopilotMessage-module__icon--RahmT";function e2(e){let t,a,i,l,r,o=(0,s.c)(13),{logsPollingInterval:c}=e,{currentUserIsSessionOwner:d}=(0,em.i)();o[0]!==d||o[1]!==c?(t={logsPollingInterval:c,batchCompletedSessions:!0,currentUserIsSessionOwner:d},o[0]=d,o[1]=c,o[2]=t):t=o[2];let{data:u,isLoading:m,error:h}=(0,eQ.jg)(t);if(o[3]!==h||o[4]!==m||o[5]!==u){l=Symbol.for("react.early_return_sentinel");e:{let e=function(e=[]){let t=new Map;for(let a of e)if((0,_.Qx)(a)){for(let e of a.choices)if("assistant"===e.delta.role)for(let n of e.delta.tool_calls||[]){let e=n.function?.name??n.custom?.name,s=n.function?.arguments??n.custom?.input;if("reply_to_comment"===e&&s)try{let e="string"==typeof s?JSON.parse(s):s;t.set(a.id,e)}catch{"string"==typeof s&&t.set(a.id,{reply:s})}}}return[...t.values()]}(u);if(m){let e;o[9]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)(e4,{}),o[9]=e):e=o[9],l=e;break e}if(h||0===e.length){l=null;break e}a=eJ,i=e.map(e3)}o[3]=h,o[4]=m,o[5]=u,o[6]=a,o[7]=i,o[8]=l}else a=o[6],i=o[7],l=o[8];return l!==Symbol.for("react.early_return_sentinel")?l:(o[10]!==a||o[11]!==i?(r=(0,n.jsx)("div",{className:a,children:i}),o[10]=a,o[11]=i,o[12]=r):r=o[12],r)}function e3(e,t){return(0,n.jsxs)("div",{className:eZ,children:[(0,n.jsx)("div",{className:e1,children:0===t&&(0,n.jsx)(f.l,{size:32,animationType:"static",loopAnimation:!1})}),(0,n.jsx)(j.To,{className:e0,markdown:e.reply})]},e.comment_id)}let e4=()=>{let e,t=(0,s.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)("div",{className:eJ,children:(0,n.jsxs)("div",{className:eZ,children:[(0,n.jsx)("div",{className:e1,children:(0,n.jsx)(eb.O,{variant:"elliptical",height:"32px",width:"32px"})}),(0,n.jsxs)("div",{className:(0,b.$)(e0,"CopilotMessage-module__loadingText--qNpCH"),children:[(0,n.jsx)(eb.O,{variant:"rounded",height:"sm",width:"100%"}),(0,n.jsx)(eb.O,{variant:"rounded",height:"sm",width:"100%"}),(0,n.jsx)(eb.O,{variant:"rounded",height:"sm",width:"70%"})]})]})}),t[0]=e):e=t[0],e};try{e2.displayName||(e2.displayName="CopilotMessage")}catch{}try{e4.displayName||(e4.displayName="LoadingMessage")}catch{}var e5=a(76720),e6=a(13814);let e7="TaskChatHeader-module__modelIcon--JnHC1";var e8=a(16051),e9=a(62935),te=a(88984),tt=a(32870),ta=a(72259),tn=a(35247),ts=a(49806);function ti({sessions:e,sessionOwners:t,pull:a,taskId:s,taskName:i}){let l=e[e.length-1],r=e[0],c=e.length>0?r?.created_at:null,d=e.reduce((e,t)=>e+(t.premium_requests||0),0),u=t.find(e=>e.id===r?.user_id)?.login??"Unknown",m=l?.model,{models:h}=(0,ta.h)(),p=tn.W.codingAgentModelSelection?h:void 0,_=m&&p?p.find(e=>e.id===(0,ts.H)(m)):void 0,{currentUser:f,optedInToFeedback:g}=(0,em.i)(),y=" \xb7 ",x=(0,o.useCallback)(async e=>{try{let e=window.location.href;await (0,U.D)(e),(0,v.BI)("agent_sessions.task_chat_header",{target:"COPY_TASK_LINK",task_id:s??a?.global_relay_id})}catch{e.preventDefault(),e.stopPropagation()}},[s,a]);return(0,n.jsxs)(e8.z,{"aria-label":"Agent session header",children:[(0,n.jsxs)(e8.z.TitleArea,{className:"TaskChatHeader-module__headerTitleArea--KI10k",children:[(0,n.jsx)(e8.z.LeadingVisual,{children:(()=>{if(!l)return null;switch(l.state){case"queued":return(0,n.jsx)($.ClockIcon,{className:"TaskChatHeader-module__clockIcon--GuhzU"});case"in_progress":return(0,n.jsx)(te.w,{});case"waiting_for_user":case"completed":return(0,n.jsx)($.CheckCircleFillIcon,{className:"TaskChatHeader-module__checkCircleIcon--zCMwZ",size:16});case"cancelled":return(0,n.jsx)($.SkipIcon,{className:"TaskChatHeader-module__skipIcon--K9nWR"});case"failed":case"timed_out":return(0,n.jsx)($.XCircleFillIcon,{className:"TaskChatHeader-module__xCircleIcon--Zq5Lt",size:16});default:return(0,n.jsx)($.DotFillIcon,{className:"TaskChatHeader-module__dotFillIcon--Uqk1Q"})}})()}),(0,n.jsx)(e8.z.Title,{as:"h1",className:"TaskChatHeader-module__headerTitle--xGHAG",children:a?.title??i??"Task"})]}),(0,n.jsx)(e8.z.Description,{className:"TaskChatHeader-module__headerDescription--ltqkw",children:(0,n.jsxs)("div",{className:"TaskChatHeader-module__headerDescriptionContent--ds2Sp",children:[(0,n.jsxs)("div",{className:"TaskChatHeader-module__headerStatus--xg0r1",children:[(0,n.jsxs)("span",{children:[(0,n.jsx)("span",{className:"TaskChatHeader-module__headerUser--oA2zw",children:f&&r?.user_id===f.id?"You":u})," created the session"," ",c&&(0,n.jsx)(e9.A,{date:new Date(c),tense:"past"}),y]}),_&&(0,n.jsxs)("span",{className:"TaskChatHeader-module__modelDisplay--yi1Ht",children:[_.logoURL?(0,n.jsx)(w.r,{alt:`${_.vendor} logo`,square:!0,size:18,src:_.logoURL,className:e7}):(0,n.jsx)($.CopilotIcon,{className:e7}),(0,n.jsxs)("span",{children:[_.displayName,y]})]}),(0,n.jsxs)("span",{children:[e.length," ",Z()("session",e.length),y]}),d>0&&(0,n.jsxs)("span",{children:[d," ",Z()("premium request",d)]})]}),g&&(0,n.jsx)("div",{className:"TaskChatHeader-module__feedbackButtonContainer--AB_cQ",children:(0,n.jsx)(tt.O,{sessionId:l?.id})})]})}),(0,n.jsx)(e8.z.Actions,{children:(0,n.jsxs)(R.W,{children:[(0,n.jsx)(R.W.Anchor,{children:(0,n.jsx)(D.K,{icon:$.KebabHorizontalIcon,"aria-label":"More actions"})}),(0,n.jsx)(R.W.Overlay,{align:"end",children:(0,n.jsx)(P.l,{children:(0,n.jsx)(P.l.Item,{onSelect:x,children:"Copy link"})})})]})})]})}try{ti.displayName||(ti.displayName="TaskChatHeader")}catch{}var tl=a(50467),tr=a(56746);let CreateAPISessionError=class CreateAPISessionError extends Error{constructor(e){let t,a;switch(e&&"object"==typeof e&&"status"in e&&"number"==typeof e.status&&(t=e.status),t){case 0:a="Network error. Please check your connection and try again.";break;case 400:a="We couldn't start the session with the information provided. Please verify your input and try again.";break;case 401:a="You don't have permission to create a session in this repository.";break;case 402:a="You've run out of Copilot premium quota for automated changes.";break;case 403:a="The Coding Agent isn't available for this repository or organization.";break;case 404:a="We couldn't find the task or repository needed to create the session.";break;case 408:a="The request timed out. Please try again.";break;case 429:a="Too many requests. Please wait a moment and try again.";break;default:a="An unexpected error occurred. Please try again."}super(a,{cause:e}),(0,tl._)(this,"status",void 0),this.name="CreateAPISessionError",this.status=t}};async function to(e){(0,v.BI)("copilot.agent_session.session_creation_requested",{nwo:e.nwo,task_id:e.taskId});let t=await tc(e);if(!t.ok)throw(0,v.BI)("copilot.agent_session.session_creation_failed",{nwo:e.nwo,task_id:e.taskId,status:t.status,error:t.statusText}),new CreateAPISessionError({status:t.status,message:t.statusText});(0,v.BI)("copilot.agent_session.session_creation_accepted",{nwo:e.nwo,task_id:e.taskId})}async function tc({nwo:e,taskId:t,problemStatement:a,model:n,agentId:s,customAgent:i}){let l=(0,tr.s3)(e,t);try{return await (0,ep.I)({path:l,method:"POST",body:{problem_statement:a,...n&&{model:n},...s&&{agent_id:s},...i&&{custom_agent:i}}})}catch(e){if(e instanceof ep.Y)throw new CreateAPISessionError(e);throw e}}let td="TaskChatInputHeader-module__noDiffs--Ak3GR";var tu=a(4007),tm=a(19976),th=a(40235),tp=a(74022),t_=a(45244),tf=a(73783),tg=a(55248),ty=a(78314),tx=a(77180),tb=a(28898);function tv(e){let t,a,i,l,r,o,c,d,u,m=(0,s.c)(32),{pull:h,branchName:p}=e,_=(0,ty.t)();m[0]!==h?(t=()=>{if(!h)return null;let e=(0,tx.UU)(h.repository_nwo,h.global_relay_id,h.head_ref_name);return(0,n.jsx)(N.Q,{onClick:e,leadingVisual:(0,n.jsx)($.VscodeIcon,{className:"hide-sm"}),size:"small",children:"Open in VS Code"})},m[0]=h,m[1]=t):t=m[1];let f=t;m[2]!==h?(a=()=>h?(0,n.jsx)(R.W.Button,{size:"small","aria-label":"More options",icon:(0,n.jsx)($.TriangleDownIcon,{className:"OpenInMenuV2-module__dropdownIcon--RVaxZ"})}):(0,n.jsx)(R.W.Button,{leadingVisual:(0,n.jsx)($.CodeIcon,{className:"hide-sm"}),size:"small","aria-label":"More options",children:"Code"}),m[2]=h,m[3]=a):a=m[3];let g=a;m[4]!==h?(i=()=>{if(!h)return null;let e=(0,tx.PZ)(h.repository_nwo,h.global_relay_id,h.head_ref_name);return(0,n.jsxs)(P.l.Item,{onSelect:e,children:[(0,n.jsx)(P.l.LeadingVisual,{children:(0,n.jsx)($.VscodeIcon,{size:16})}),"Open in VS Code Insiders"]})},m[4]=h,m[5]=i):i=m[5];let y=i;m[6]!==h?(l=()=>{if(!h)return null;let e=`copilot --resume=${h.global_relay_id}`;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(P.l.Item,{onSelect:()=>(0,U.D)(e),children:[(0,n.jsx)(P.l.LeadingVisual,{children:(0,n.jsx)(tg.p,{})}),"Continue in Copilot CLI",(0,n.jsx)(P.l.Description,{className:"OpenInMenuV2-module__cliDescription--DwFxw",variant:"block",children:e})]}),(0,n.jsx)(P.l.Divider,{})]})},m[6]=h,m[7]=l):l=m[7];let x=l;m[8]!==p?(r=()=>(0,n.jsxs)(P.l.Item,{onSelect:()=>(0,U.D)(`gh pr checkout ${p}`),children:[(0,n.jsx)(P.l.LeadingVisual,{children:(0,n.jsx)($.TerminalIcon,{size:16})}),"Checkout with GitHub CLI",(0,n.jsx)(P.l.TrailingVisual,{children:(0,n.jsx)($.CopyIcon,{size:16})})]}),m[8]=p,m[9]=r):r=m[9];let b=r;m[10]!==p||m[11]!==_?(o=()=>{if(!_)return null;let e=`/codespaces/new?skip_quickstart=true&repo=${_.id}&ref=${encodeURIComponent(p)}`;return(0,n.jsxs)(P.l.Item,{onSelect:()=>window.open(e,"_self"),children:[(0,n.jsx)(P.l.LeadingVisual,{children:(0,n.jsx)($.CodespacesIcon,{size:16})}),"Create a codespace"]})},m[10]=p,m[11]=_,m[12]=o):o=m[12];let v=o;m[13]!==p||m[14]!==_?(c=()=>{if(!_)return null;let e=`${_.ownerLogin}/${_.name}`,t=(0,tb.H)(e,p);return t?(0,n.jsxs)(P.l.Item,{onSelect:()=>{(0,tx.vp)(t,e)},children:[(0,n.jsx)(P.l.LeadingVisual,{children:(0,n.jsx)($.DesktopDownloadIcon,{size:16})}),"Checkout with GitHub Desktop"]}):null},m[13]=p,m[14]=_,m[15]=c):c=m[15];let j=c;m[16]!==g||m[17]!==b||m[18]!==j||m[19]!==x||m[20]!==v||m[21]!==y?(d=()=>(0,n.jsxs)(R.W,{children:[g(),(0,n.jsx)(R.W.Overlay,{className:"OpenInMenuV2-module__overlay--l0A0j",align:"end",side:"outside-top",children:(0,n.jsxs)(P.l,{children:[x(),y(),b(),v(),j()]})})]}),m[16]=g,m[17]=b,m[18]=j,m[19]=x,m[20]=v,m[21]=y,m[22]=d):d=m[22];let C=d;if(h){let e,t,a;return m[23]!==f?(e=f(),m[23]=f,m[24]=e):e=m[24],m[25]!==C?(t=C(),m[25]=C,m[26]=t):t=m[26],m[27]!==t||m[28]!==e?(a=(0,n.jsxs)(tf.A,{children:[e,t]}),m[27]=t,m[28]=e,m[29]=a):a=m[29],a}return m[30]!==C?(u=C(),m[30]=C,m[31]=u):u=m[31],u}try{tv.displayName||(tv.displayName="OpenInMenuV2")}catch{}var tj=a(98755);function tN(e){var t,a,i;let l,r,c,d,u,m,h,p,_,f,g,y,x,b,v,j,N,C,S,w,I,k,T,L,E=(0,s.c)(47),{pull:A,repoNwo:O,pullNumber:R,headRef:D,branchAliveChannel:H}=e,[q,M]=(0,o.useState)(!1),{data:V,refetch:F,isLoading:U}=(a=O,i=R,(d=(0,s.c)(9))[0]!==i||d[1]!==a?(l=["task-diff",a,i],d[0]=i,d[1]=a,d[2]=l):l=d[2],d[3]!==i||d[4]!==a?(r=async()=>{let e=await (0,ec.lS)(`/${a}/agents/pull/${i}/diff`);if(!e.ok)throw Error("Failed to fetch diff task");return await e.json()},d[3]=i,d[4]=a,d[5]=r):r=d[5],d[6]!==l||d[7]!==r?(c={queryKey:l,queryFn:r},d[6]=l,d[7]=r,d[8]=c):c=d[8],(0,er.I)(c)),B=!!V&&V.files.length>0;E[0]!==F?(u=()=>{F()},E[0]=F,E[1]=u):u=E[1],t=u,(k=(0,s.c)(4))[0]!==t?(w=(0,tp.A)(t,2e3,{leading:!1,trailing:!0}),k[0]=t,k[1]=w):w=k[1],T=w,k[2]!==T?(I=()=>{T()},k[2]=T,k[3]=I):I=k[3],L=I,(0,th.x)(H,L),E[2]!==q?(m=()=>{M(!q)},E[2]=q,E[3]=m):m=E[3];let z=m,W=q?"Collapse changed files":"View changed files";E[4]!==q?(h=(0,n.jsx)($.ChevronRightIcon,{className:"TaskChatInputHeader-module__icon--DqFna","data-expanded":q}),E[4]=q,E[5]=h):h=E[5],E[6]!==z||E[7]!==q||E[8]!==W||E[9]!==h?(p=(0,n.jsx)("button",{onClick:z,type:"button",className:"TaskChatInputHeader-module__toggleButton--K9yt6","aria-expanded":q,"aria-controls":"task-diff-drawer","aria-label":W,children:h}),E[6]=z,E[7]=q,E[8]=W,E[9]=h,E[10]=p):p=E[10],E[11]!==D?(_=(0,n.jsx)("span",{className:"TaskChatInputHeader-module__branchText--sLSSY",children:D}),E[11]=D,E[12]=_):_=E[12];let G=`Copy branch name ${D}`;return E[13]!==D||E[14]!==G?(f=(0,n.jsx)(tj.T,{textToCopy:D,variant:"invisible",ariaLabel:G,className:"TaskChatInputHeader-module__copyIcon--zVXe6"}),E[13]=D,E[14]=G,E[15]=f):f=E[15],E[16]!==_||E[17]!==f?(g=(0,n.jsxs)("div",{className:"TaskChatInputHeader-module__branch--G5YU0",children:[_,f]}),E[16]=_,E[17]=f,E[18]=g):g=E[18],E[19]!==V||E[20]!==B?(y=B&&(0,n.jsx)(tm.zl,{linesAdded:V.additions,linesDeleted:V.deletions,linesChanged:V.changes,hideSquares:!0}),E[19]=V,E[20]=B,E[21]=y):y=E[21],E[22]!==y||E[23]!==p||E[24]!==g?(x=(0,n.jsxs)("div",{className:"TaskChatInputHeader-module__info--eWF1d",children:[p,g,y]}),E[22]=y,E[23]=p,E[24]=g,E[25]=x):x=E[25],E[26]!==D||E[27]!==A||E[28]!==O?(b=A&&(0,n.jsxs)("div",{className:"TaskChatInputHeader-module__actions--qVWm6",children:[(0,n.jsx)(tv,{branchName:D,pull:A}),(0,n.jsx)(tu.N,{pullUrl:A.url,taskId:A.global_relay_id,repoNwo:O})]}),E[26]=D,E[27]=A,E[28]=O,E[29]=b):b=E[29],E[30]!==x||E[31]!==b?(v=(0,n.jsxs)("div",{className:"TaskChatInputHeader-module__container--EbwbX",children:[x,b]}),E[30]=x,E[31]=b,E[32]=v):v=E[32],E[33]!==V||E[34]!==B||E[35]!==D||E[36]!==U||E[37]!==O?(j=B?V.files.map(e=>{let[t,a]=function(e){let t=e.lastIndexOf("/");return -1===t?["",e]:[e.slice(0,t),e.slice(t+1)]}(e.path);return(0,n.jsxs)(P.l.Item,{className:"TaskChatInputHeader-module__diffItem--OqJlt",onSelect:()=>{window.open(`/${O}/blob/${D}/${e.path}`)},children:[(0,n.jsx)(P.l.LeadingVisual,{children:function(e){switch(e){case"A":return(0,n.jsx)($.FileAddedIcon,{className:"TaskChatInputHeader-module__fileAdded--IxDjj"});case"D":case"R":return(0,n.jsx)($.FileRemovedIcon,{className:"TaskChatInputHeader-module__fileDeleted--KRsF0"});default:return(0,n.jsx)($.FileDiffIcon,{className:"TaskChatInputHeader-module__fileChanged--E53GD"})}}(e.status)}),(0,n.jsxs)("div",{className:"TaskChatInputHeader-module__fileInfo--rM2XU",children:[(0,n.jsx)("span",{className:"TaskChatInputHeader-module__fileName--Gi4PI",children:a}),(0,n.jsx)("span",{className:"TaskChatInputHeader-module__fileDirectory--FL7EV",children:t})]}),(0,n.jsx)(P.l.TrailingVisual,{children:(0,n.jsx)(tm.zl,{linesAdded:e.additions,linesDeleted:e.deletions,linesChanged:e.changes,hideSquares:!0})})]},e.path)}):U?(0,n.jsx)(P.l.Item,{className:td,children:(0,n.jsx)(t_.b,{children:"Fetching changes..."})}):(0,n.jsx)(P.l.Item,{className:td,children:"No changes detected"}),E[33]=V,E[34]=B,E[35]=D,E[36]=U,E[37]=O,E[38]=j):j=E[38],E[39]!==j?(N=(0,n.jsx)(P.l,{className:"TaskChatInputHeader-module__diffList--KClUe",children:j}),E[39]=j,E[40]=N):N=E[40],E[41]!==q||E[42]!==N?(C=(0,n.jsx)("div",{id:"task-diff-drawer",className:"TaskChatInputHeader-module__diffContainer--du3Oi","data-expanded":q,children:N}),E[41]=q,E[42]=N,E[43]=C):C=E[43],E[44]!==v||E[45]!==C?(S=(0,n.jsxs)("div",{className:"TaskChatInputHeader-module__root--Xzr_K",children:[v,C]}),E[44]=v,E[45]=C,E[46]=S):S=E[46],S}try{tN.displayName||(tN.displayName="TaskChatInputHeader")}catch{}function tC({taskAgentId:e,activeSession:t,onAddPendingSession:a,onClearPendingSession:i,payload:l,scrollToBottom:r,repoNwo:c,taskId:d,branchAliveChannel:u}){let{pull:m,steeringEnabled:h,currentUserCanPush:p}=l,[f,y]=(0,o.useState)(!1),{data:v}=(0,g.B)(e),{data:j,isLoading:N}=(0,ed.n)(c),C=e&&!N&&j&&j.length>0&&!j.some(t=>Number(t.id)===e),S="copilot"===(v?.display_name?.toLowerCase()||"agent"),w=!!t&&S,I=t&&(0,_.VY)(t),k=l.sessionOwners.find(e=>e.id===t?.user_id)||null,{currentUserIsSessionOwner:T}=(0,em.i)(),[L,E]=(0,o.useState)(""),[A,O]=(0,o.useState)(!1),R=(0,o.useRef)(null);(0,o.useEffect)(()=>{let e,t=R.current;if(!t)return;let a=()=>{f&&(e=setTimeout(()=>{y(!1)},0))};return t.addEventListener("input",a),()=>{t.removeEventListener("input",a),e&&clearTimeout(e)}},[f,R]);let P=(0,o.useCallback)(e=>{R?.current&&E(e.target.value)},[R]),{createSession:H}=function(e){let t,a,n,i,l,r,o,c=(0,s.c)(16);c[0]!==e?(t=void 0===e?{}:e,c[0]=e,c[1]=t):t=c[1];let{onError:d,onSuccess:u}=t;c[2]===Symbol.for("react.memo_cache_sentinel")?(a=["createAPISession"],c[2]=a):a=c[2],c[3]!==d?(n=e=>{d?.(e)},c[3]=d,c[4]=n):n=c[4],c[5]!==u?(i=()=>{u?.()},c[5]=u,c[6]=i):i=c[6],c[7]!==n||c[8]!==i?(l={mutationKey:a,mutationFn:to,onError:n,onSuccess:i},c[7]=n,c[8]=i,c[9]=l):l=c[9];let m=(0,eo.n)(l);c[10]!==m?(r=e=>{m.mutate(e)},c[10]=m,c[11]=r):r=c[11];let h=r;return c[12]!==h||c[13]!==m.error||c[14]!==m.isPending?(o={createSession:h,isCreating:m.isPending,createError:m.error},c[12]=h,c[13]=m.error,c[14]=m.isPending,c[15]=o):o=c[15],o}({onError:()=>{y(!0),i()}}),{createCommand:q}=ef({onError:()=>{y(!0)}}),M=C?"Your organization has removed access for this agent. Contact your administrator for more information.":t&&!S?`Wait for the session to be complete to steer ${v?.display_name||"agent"} sessions`:h?p?m&&"open"!==m.state?`Pull request is ${m.state}`:T?void 0:w?`Only ${k?.login??"the session owner"} can steer this session`:(0,n.jsxs)(n.Fragment,{children:["Only the author of the task can ask for changes."," ",m&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(x.A,{href:m.url,inline:!0,children:"View pull request"})," ","to request more changes."]})]}):"You do not have write permission on the repository":"Steering Copilot requires an active subscription",V=!!M,F=async()=>{y(!1);try{if(!L.trim()||V||I)return;if(w){w&&t&&(q({sessionId:t.id,content:L}),E("")),r();return}if(!d)return void y(!0);a(L,{agentId:e,isPRComment:!1}),E(""),H({nwo:c,taskId:d,problemStatement:L,agentId:e}),r()}catch{throw y(!0),new ei.q(L)}},U=v?.display_name||"Agent",B=I?`Waiting for ${U} to start session...`:w?`Steer active session while ${U} is working`:"What would you like to change?";return(0,n.jsxs)("div",{className:"TaskChatInputV2-module__container--vfUO9",children:[m&&(0,n.jsx)(tN,{pull:m,repoNwo:m.repository_nwo,pullNumber:m.number,headRef:m.head_ref_name,branchAliveChannel:u}),(0,n.jsx)("form",{onSubmit:e=>{e.preventDefault(),F()},id:"task-chat-input-form","data-testid":"task-chat-input-form",children:(0,n.jsxs)(el.A,{children:[(0,n.jsx)(el.A.Label,{visuallyHidden:!0,children:"Send message"}),(0,n.jsx)("div",{className:"TaskChatInputV2-module__inputWrapper--eR0Aq",children:V?(0,n.jsx)("div",{className:"TaskChatInputV2-module__blockedContainer--UsdgI",children:(0,n.jsxs)("div",{className:"TaskChatInputV2-module__blockedContent--mMpTI",children:[(0,n.jsx)($.LockIcon,{size:16,className:"TaskChatInputV2-module__blockedIcon--pektf"}),(0,n.jsx)("p",{className:"TaskChatInputV2-module__blockedText--HvHRC",children:M})]})}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("textarea",{className:(0,b.$)("TaskChatInputV2-module__input--BKfjV",(A||L)&&"TaskChatInputV2-module__inputFocused--FqS0E"),onSubmit:F,"aria-label":B,value:L,onChange:P,onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),F())},placeholder:B,disabled:V,ref:R,rows:A||L?3:1,onFocus:()=>O(!0),onBlur:()=>O(!1)}),(0,n.jsx)(D.K,{variant:"invisible",size:"medium",icon:$.PaperAirplaneIcon,"aria-label":"Send now",inactive:I||V,"aria-disabled":I||V,onClick:F,className:"TaskChatInputV2-module__sendButton--hmgP5"})]})}),f&&!V&&(0,n.jsx)(el.A.Validation,{variant:"error",className:"pt-2",children:"Failed to submit latest message"})]})})]})}try{tC.displayName||(tC.displayName="TaskChatInputV2")}catch{}function tS(){let e,t=(0,s.c)(3),{data:a,isLoading:i}=(0,u.J)();if(i){let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)("div",{className:"TaskChat-module__suspenseSpinner--V6afj",children:(0,n.jsx)(r.A,{size:"medium"})}),t[0]=e):e=t[0],e}return t[1]!==a?(e=a&&(0,n.jsx)(tk,{...a}),t[1]=a,t[2]=e):e=t[2],e}function tw(){let e,t=(0,s.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)("div",{className:ea,style:{alignItems:"center"},children:(0,n.jsx)(r.A,{})}),t[0]=e):e=t[0],e}function tI(e){let t,a,i,l,r,o,c=(0,s.c)(14),{title:d,description:u,statusLink:m,pullLink:h}=e;return c[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,n.jsx)(e5.E.Visual,{children:(0,n.jsx)($.AlertIcon,{size:24,className:"fgColor-muted"})}),c[0]=t):t=c[0],c[1]!==d?(a=(0,n.jsx)(e5.E.Heading,{children:d}),c[1]=d,c[2]=a):a=c[2],c[3]!==u?(i=(0,n.jsx)(e5.E.Description,{className:"text-center",children:u}),c[3]=u,c[4]=i):i=c[4],c[5]!==m?(l=m?(0,n.jsx)(e5.E.SecondaryAction,{href:m,children:"GitHub status"}):null,c[5]=m,c[6]=l):l=c[6],c[7]!==h?(r=h?(0,n.jsx)(e5.E.SecondaryAction,{href:h,children:"Go to pull request"}):null,c[7]=h,c[8]=r):r=c[8],c[9]!==a||c[10]!==i||c[11]!==l||c[12]!==r?(o=(0,n.jsx)("div",{className:ea,children:(0,n.jsxs)(e5.E,{children:[t,a,i,l,r]})}),c[9]=a,c[10]=i,c[11]=l,c[12]=r,c[13]=o):o=c[13],o}function tk(e){let t,a,r,u,p,f,g,x,j,N,C,S,w,I,k=(0,s.c)(27),{showHeader:T,isRepoAgentsView:L,repoNwo:A,taskId:O,branchAliveChannel:$,taskName:R,...D}=e,P=void 0!==L&&L,{agentMentions:H,pull:q,sessions:M,logsPollingInterval:V,sessionsPollingInterval:F,sessionOwners:U,currentUserCanPush:z}=D,W=void 0===V?3e3:V,G=O??q?.global_relay_id,[K]=(0,l.ok)();k[0]!==K?(t=K.get("session_id"),k[0]=K,k[1]=t):t=k[1];let Y=t,{currentUser:X,currentUserIsSessionOwner:Q}=(0,em.i)(),[J,Z]=(0,o.useState)(Q&&Y?Y:null),ee=(0,o.useRef)(!1),ea=(0,o.useRef)(null),en=(0,o.useRef)(null),es=(0,o.useRef)(null),ei=(0,o.useRef)(null),{data:el,isError:er,timedOut:eo}=(0,m.t)({pullId:q?.id,taskId:O,initialData:M,sessionsPollingInterval:void 0===F?3e3:F}),{data:ec}=(0,ex.i)({sessions:el,initialData:U}),ed=el?.[el.length-1],{data:eh,isFetching:e_}=eu({pull:q,sessions:el,initialData:H??[],agentId:ed?.agent_id}),{allSessions:ef,allMentions:eg,addPendingSession:eb,clearPendingSession:ev}=function(e){let t,a,n,i,l,r,c,d,u,m,h,p,_,f=(0,s.c)(33),{pullId:g,taskId:y,sessions:x,mentions:b,currentUser:v}=e;f[0]!==x?(t=void 0===x?[]:x,f[0]=x,f[1]=t):t=f[1];let j=t;f[2]!==b?(a=void 0===b?[]:b,f[2]=b,f[3]=a):a=f[3];let N=a,[C,S]=(0,o.useState)(null),[w,I]=(0,o.useState)(null),k=C?.task_id===y,[T,L]=(0,o.useState)(j.length),[E,A]=(0,o.useState)(N.length),O=j.length>T,$=N.length>E;f[4]!==T||f[5]!==j.length?(n=()=>{if(j.length!==T){let e=setTimeout(()=>{L(j.length)},0);return()=>clearTimeout(e)}},i=[j.length,T],f[4]=T,f[5]=j.length,f[6]=n,f[7]=i):(n=f[6],i=f[7]),(0,o.useEffect)(n,i),f[8]!==N.length||f[9]!==E?(l=()=>{if(N.length!==E){let e=setTimeout(()=>{A(N.length)},0);return()=>clearTimeout(e)}},r=[N.length,E],f[8]=N.length,f[9]=E,f[10]=l,f[11]=r):(l=f[10],r=f[11]),(0,o.useEffect)(l,r);let R=O||!k?null:C,D=$||!k?null:w;f[12]!==$||f[13]!==O||f[14]!==w||f[15]!==C?(d=()=>{if(O&&null!==C||$&&null!==w){let e=setTimeout(()=>{O&&S(null),$&&I(null)},0);return()=>clearTimeout(e)}},c=[O,$,C,w],f[12]=$,f[13]=O,f[14]=w,f[15]=C,f[16]=c,f[17]=d):(c=f[16],d=f[17]),(0,o.useEffect)(d,c),f[18]!==v||f[19]!==g||f[20]!==y?(u=(e,t)=>{let{agentId:a,isPRComment:n}=void 0===t?{}:t,s=void 0===n||n;if(s){let t,n=(t=v?.login??"You",{type:"timeline_comment",id:-1,global_relay_id:"",pull_request_id:0,body:e,url:"",created_at:"",updated_at:"",author:{avatar_url:v?.primaryAvatarUrl??`https://avatars.githubusercontent.com/${v?.login??"ghost"}`,display_login:t,global_relay_id:"",id:0,url:""},path:null,subject_type:null,child_comments:null,isPending:!0});I(n),S(eF(g,n.id.toString(),v?.id,{agentId:a,isPRComment:s,taskId:y}))}else S(eF(g,e,v?.id,{agentId:a,isPRComment:s,taskId:y}))},f[18]=v,f[19]=g,f[20]=y,f[21]=u):u=f[21];let P=u;f[22]===Symbol.for("react.memo_cache_sentinel")?(m=()=>{S(null),I(null)},f[22]=m):m=f[22];let H=m;f[23]!==R||f[24]!==j?(h=R?[...j,R]:j,f[23]=R,f[24]=j,f[25]=h):h=f[25];let q=h;f[26]!==D||f[27]!==N?(p=D?[...N,D]:N,f[26]=D,f[27]=N,f[28]=p):p=f[28];let M=p;return f[29]!==P||f[30]!==M||f[31]!==q?(_={allSessions:q,allMentions:M,addPendingSession:P,clearPendingSession:H},f[29]=P,f[30]=M,f[31]=q,f[32]=_):_=f[32],_}({pullId:q?.id,taskId:G,sessions:el,mentions:eh,currentUser:X}),ej=el?.every(tO)??!1,eN=ef.sort(tA),{data:eC,isLoading:eS}=function(e){let t,a,n,i,l,r=(0,s.c)(12),{sessions:o,pullId:c}=e;r[0]!==c||r[1]!==o?(t=o.filter(eG).map(eW).sort(),n=eB.b,a=["agent-inactive-session-logs",c,...t],r[0]=c,r[1]=o,r[2]=t,r[3]=a,r[4]=n):(t=r[2],a=r[3],n=r[4]),r[5]!==t||r[6]!==c?(i=async()=>{if(c){let e=await (0,ep.I)({path:`/agents/sessions/resource/pull/${c}/inactive_logs`});if(!e.ok)throw Error(`Error fetching inactive session logs: ${e.statusText}`);let t=(await e.json()).logs,a={};for(let e in t){let n=t[e],s=[];for(let t of eX(n)){if((0,_.X)(t))s.push(t);else throw Error(`Invalid log entry received: ${JSON.stringify(t)}`);a[e]=s}}return a}return eK(t)},r[5]=t,r[6]=c,r[7]=i):i=r[7];let d=!!c||t.length>0;return r[8]!==a||r[9]!==i||r[10]!==d?(l={queryKey:a,queryFn:i,enabled:d,placeholderData:ez},r[8]=a,r[9]=i,r[10]=d,r[11]=l):l=r[11],n(l)}({sessions:eN,pullId:q?.id});k[2]===Symbol.for("react.memo_cache_sentinel")?(a=(0,eT.G7)("copilot_immersive_task_hyperlinking"),k[2]=a):a=k[2];let ew=a;if(k[3]!==ef){let e;r=ew?(e=ef.find(tE),(0,h.L)(e?.event_identifiers)):void 0,k[3]=ef,k[4]=r}else r=k[4];let eI=r;k[5]!==eg?(u=e=>{if(eg&&e.event_identifiers)return eg.find(t=>e.event_identifiers?.includes(t.id.toString()))},k[5]=eg,k[6]=u):u=k[6];let ek=u;k[7]===Symbol.for("react.memo_cache_sentinel")?(p={containerRef:ea,behavior:"smooth"},k[7]=p):p=k[7];let{scrollToBottom:eE}=B(p);k[8]===Symbol.for("react.memo_cache_sentinel")?(f={containerRef:ea,sentinelRef:en,offset:4},k[8]=f):f=k[8];let{setIsAtBottom:eA}=function(e){let t,a,n,i,l,r,c,d,u,m,h,p,_=(0,s.c)(24),{containerRef:f,sentinelRef:g,offset:y,scrollBehavior:x}=e,b=void 0===x?"instant":x,[v,j]=(0,o.useState)(!0),N=(0,o.useRef)(!1),C=(0,o.useRef)(v);_[0]!==v?(t=()=>{C.current=v},a=[v],_[0]=v,_[1]=t,_[2]=a):(t=_[1],a=_[2]),(0,o.useEffect)(t,a),_[3]!==f||_[4]!==b?(n={containerRef:f,behavior:b,smoothThreshold:500},_[3]=f,_[4]=b,_[5]=n):n=_[5];let{scrollToBottom:S}=B(n);_[6]!==f||_[7]!==g?(i=()=>{let e=f?.current;if(!e)return{containerElement:null,contentElement:document.scrollingElement||document.documentElement};let t=g.current?.parentElement??e;return{containerElement:e,contentElement:t}},_[6]=f,_[7]=g,_[8]=i):i=_[8];let w=i;return _[9]!==f?(l=()=>{let e=f?.current||window,t=()=>{N.current=!0};return e.addEventListener("scroll",t,{once:!0}),()=>{e.removeEventListener("scroll",t)}},r=[f],_[9]=f,_[10]=l,_[11]=r):(l=_[10],r=_[11]),(0,o.useEffect)(l,r),_[12]!==w||_[13]!==y||_[14]!==g?(c=()=>{let e=g.current;if(!e)return;let{containerElement:t}=w(),a=new IntersectionObserver(e=>{let t=e[0];t&&j(t.isIntersecting)},{root:t??null,rootMargin:`0px 0px ${y}px 0px`,threshold:0});return a.observe(e),()=>a.disconnect()},d=[y,w,g],_[12]=w,_[13]=y,_[14]=g,_[15]=c,_[16]=d):(c=_[15],d=_[16]),(0,o.useEffect)(c,d),_[17]!==w||_[18]!==S?(u=()=>{let{contentElement:e}=w();if(!e)return;let t=new ResizeObserver(()=>{(!N.current||C.current)&&S()});return t.observe(e),()=>t.disconnect()},m=[w,S],_[17]=w,_[18]=S,_[19]=u,_[20]=m):(u=_[19],m=_[20]),(0,o.useEffect)(u,m),_[21]===Symbol.for("react.memo_cache_sentinel")?(h=e=>{C.current=e,j(e)},_[21]=h):h=_[21],_[22]!==v?(p={isAtBottom:v,setIsAtBottom:h},_[22]=v,_[23]=p):p=_[23],p}(f);k[9]!==K||k[10]!==Y?(g=()=>{if(!Y||"undefined"==typeof window||ee.current)return;ee.current=!0;let e=new URLSearchParams(K);e.delete("session_id");let t=e.toString(),a=`${window.location.pathname}${t?`?${t}`:""}${window.location.hash}`;(0,c.kd)(a),queueMicrotask(()=>Z(null))},k[9]=K,k[10]=Y,k[11]=g):g=k[11];let eO=g;k[12]!==J||k[13]!==eO?(x=e=>{if(!J)return;let t=e.target,a=ea.current?.querySelector(`[data-session-id="${J}"]`);a&&!a.contains(t)&&eO()},k[12]=J,k[13]=eO,k[14]=x):x=k[14];let e$=x;return k[15]===Symbol.for("react.memo_cache_sentinel")?(j=()=>{ee.current=!1},k[15]=j):j=k[15],k[16]!==Y?(N=[Y],k[16]=Y,k[17]=N):N=k[17],(0,o.useEffect)(j,N),k[18]!==eA||k[19]!==Y?(C=()=>{Y&&eA(!1)},S=[Y,eA],k[18]=eA,k[19]=Y,k[20]=C,k[21]=S):(C=k[20],S=k[21]),(0,o.useEffect)(C,S),!function(e){let t,a,n,i,l=(0,s.c)(10),{chatInputRef:r,textAreaRef:c,isReadonly:d,taskId:u}=e,m=(0,o.useRef)(null),h=(0,o.useRef)(null);l[0]!==r||l[1]!==c?(t=e=>{r.current&&(r.current.setText(t=>t&&t.trim()?`${t}
${e}`:e),c?.current?.focus())},l[0]=r,l[1]=c,l[2]=t):t=l[2];let p=t;l[3]!==p||l[4]!==d||l[5]!==u?(a=e=>{(e instanceof e6.L||e instanceof e6.J)&&(d||((0,v.BI)("agent_sessions.task_view",{target:"CREATE_COMMAND_DIFF_BUTTON",file_path:e.filePath,line_number:e.endLineNumber,has_range:e.startLineNumber!==e.endLineNumber,task_id:u}),h.current=e,m.current&&clearTimeout(m.current),m.current=setTimeout(()=>{h.current&&(p(function(e){let{filePath:t,startLineNumber:a,endLineNumber:n}=e;return a!==n&&a?`${t}:${a}-${n}`:`${t}:${n}`}(h.current)),h.current=null)},300)))},l[3]=p,l[4]=d,l[5]=u,l[6]=a):a=l[6];let _=a;l[7]!==_?(n=()=>(window.addEventListener("DiffAddCommentButtonClickedEvent",_),window.addEventListener("DiffSelectedLineEvent",_),()=>{window.removeEventListener("DiffAddCommentButtonClickedEvent",_),window.removeEventListener("DiffSelectedLineEvent",_),m.current&&clearTimeout(m.current)}),i=[_],l[7]=_,l[8]=n,l[9]=i):(n=l[8],i=l[9]),(0,o.useEffect)(n,i)}({chatInputRef:es,textAreaRef:ei,isReadonly:ej,taskId:G??""}),k[22]!==eO||k[23]!==el||k[24]!==Y?(w=()=>{if(!Y||!el)return;let e=el.find(_.v5),t=e?.id??null;t&&t!==Y&&eO()},I=[Y,el,eO],k[22]=eO,k[23]=el,k[24]=Y,k[25]=w,k[26]=I):(w=k[25],I=k[26]),(0,o.useEffect)(w,I),(0,o.useEffect)(()=>{(es.current&&es.current.setText(""),Y)?eA(!1):(eA(!0),eE("instant"))},[G,eA,eE,Y]),el&&ec?er&&eo?(0,n.jsx)(tI,{title:"Activity cannot be loaded",description:"The activity on this task is temporarily unavailable due to a system error. Try reloading the page, or if the problem persists, contact support.",statusLink:"https://www.githubstatus.com/"}):el.length?(0,n.jsx)("div",{className:"TaskChat-module__root--i8enD",children:(0,n.jsxs)("div",{className:"TaskChat-module__container--n3jVO",children:[(0,n.jsx)("div",{className:"TaskChat-module__stickableContainer--fhutl",children:(0,n.jsx)(i.$,{containerRef:ea,disabled:!1,className:"TaskChat-module__scrollContainer--ENR5a",onClick:e$,children:(0,n.jsxs)("div",{className:(0,b.$)("TaskChat-module__content--X5M4z",P&&"TaskChat-module__repoAgentsViewContent--A_9A8"),children:[void 0!==T&&T&&(0,n.jsx)(ti,{sessions:eN,sessionOwners:ec,pull:q,taskId:G,taskName:R}),eN.map((e,t)=>{var a;let s=0===t,i=ek(e),l=(0,_.VY)(e),r=(0,_.SS)(e);return(0,n.jsxs)("div",{className:"d-flex flex-column",children:[s&&(0,n.jsx)("div",{className:"TaskChat-module__initialMessages--zIGn9",children:Q?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(E,{currentUser:X,threadId:eI,session:e,message:r?"requested a review":"started a task",agentId:e.agent_id}),(0,n.jsx)(y,{session:e,message:r?"started a review":"started work"})]}):(0,n.jsx)(eU,{session:e})}),!s&&!r&&(i||e_)&&(0,n.jsx)(eL,{mention:i,isLoading:!i&&e_,agentId:e.agent_id},i?.id),!s&&!r&&!i&&!e_&&(0,n.jsx)(eV,{session:e,sessionOwner:ec.find(t=>t.id===e.user_id)}),!s&&r&&(0,n.jsx)("div",{className:"TaskChat-module__readonlyMessageContainer--Mxc35",children:(0,n.jsx)(y,{session:e,message:"started a review"})}),(0,n.jsxs)(d.PS,{session:e,sessionOwner:ec.find(t=>t.id===e.user_id),logs:eC?.[e.id],logsAreLoading:eS,children:[(0,n.jsx)(et,{defaultOpen:(a=e.id,Y?a===Y:!!l||(el&&el.some(tL)?a===el.find(tT)?.id:t===eN.length-1)),scrollContainerRef:ea,hideStopButton:l,onOpenChange:()=>eA(!1),onToolExpand:()=>eA(!1),shouldHighlight:e.id===J,stickyHeaders:!P,currentUserCanPush:z,pull:q,logsPollingInterval:W,currentUser:X}),"completed"===e.state&&(Q&&!s||!Q)&&(0,n.jsx)(e2,{logsPollingInterval:W??3e3})]})]},e.id)}),(0,n.jsx)("div",{ref:en,"aria-hidden":!0,style:{height:1}})]})})}),!ej&&(0,n.jsx)("div",{className:(0,b.$)("TaskChat-module__chatInputContainer--Z0U1_",P&&"TaskChat-module__repoAgentsViewChatInput--PA6Bo"),children:P&&A&&O?(0,n.jsx)(tC,{taskAgentId:ef[0]?.agent_id,activeSession:ef?.find(_.v5)??null,onAddPendingSession:eb,onClearPendingSession:ev,payload:D,scrollToBottom:eE,repoNwo:A,taskId:O,branchAliveChannel:$}):(0,n.jsx)(ey,{taskAgentId:ef[0]?.agent_id,activeSession:ef?.find(_.v5)??null,onAddPendingSession:eb,onClearPendingSession:ev,payload:D,scrollToBottom:eE,chatInputRef:es,inputRef:ei})})]})}):(0,n.jsx)(tI,{title:"This task is not viewable",description:`You can't view this task because you do not have any active sessions${q?" for this pull request":""}.`,pullLink:q?.url}):(0,n.jsx)(tw,{})}function tT(e){return(0,_.v5)(e)}function tL(e){return(0,_.v5)(e)}function tE(e){return e.event_type===p.qY}function tA(e,t){return new Date(e.created_at).getTime()-new Date(t.created_at).getTime()}function tO(e){return(0,_.SS)(e)}try{tS.displayName||(tS.displayName="TaskChatSuspended")}catch{}try{tw.displayName||(tw.displayName="CenteredSpinner")}catch{}try{tI.displayName||(tI.displayName="CenteredBlankSlate")}catch{}try{tk.displayName||(tk.displayName="TaskChat")}catch{}},86476:(e,t,a)=>{a.d(t,{Y:()=>r});var n=a(16522),s=a(97665),i=a(97286);let l=async(e,t={})=>{let{includeBody:a=!1}=t,n=new URL("/copilot/agent-sessions/pull-requests",window.location.origin);n.searchParams.set("pull_request_ids",String(e)),a&&n.searchParams.set("include_body","true");let s=await fetch(n.toString(),{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(!s.ok)throw Error(`Failed to fetch pull request ${e}`);let i=(await s.json()).pull_requests[e];if(!i)throw Error(`Pull request ${e} not found`);return i};function r(e){let t,a,r,o,c,d,u=(0,n.c)(25),{pullRequestId:m,includeBody:h,initialData:p,enabled:_,refetchOnMount:f}=e,g=void 0!==h&&h,y=(0,s.jE)();u[0]!==g||u[1]!==m?(t=["pull-request",m,g],u[0]=g,u[1]=m,u[2]=t):t=u[2];let x=t;u[3]!==g||u[4]!==m?(a=()=>{if(!m)throw Error("pullRequestId is required");return l(m,{includeBody:g})},u[3]=g,u[4]=m,u[5]=a):a=u[5];let b=a,v=void 0!==f&&f||!p?0:3e5,j=(void 0===_||_)&&void 0!==m;u[6]!==p||u[7]!==b||u[8]!==x||u[9]!==v||u[10]!==j?(r={queryKey:x,queryFn:b,initialData:p,staleTime:v,enabled:j},u[6]=p,u[7]=b,u[8]=x,u[9]=v,u[10]=j,u[11]=r):r=u[11];let{data:N,refetch:C}=(0,i.I)(r);u[12]!==m||u[13]!==y||u[14]!==x?(o=async()=>{if(!m)throw Error("pullRequestId is required");let e=await l(m,{includeBody:!0});y.setQueryData(x,t=>t?{...t,body:e.body,body_html:e.body_html,body_revision_count:e.body_revision_count}:e)},u[12]=m,u[13]=y,u[14]=x,u[15]=o):o=u[15];let S=o;u[16]!==m||u[17]!==y||u[18]!==x?(c=async()=>{if(!m)throw Error("pullRequestId is required");let e=await l(m,{includeBody:!1});y.setQueryData(x,t=>t?{...t,title:e.title,head_sha:e.head_sha,changed_files:e.changed_files,commit_alive_channel:e.commit_alive_channel}:e)},u[16]=m,u[17]=y,u[18]=x,u[19]=c):c=u[19];let w=c;return u[20]!==N||u[21]!==C||u[22]!==S||u[23]!==w?(d={data:N,refetch:C,refetchBody:S,refetchPullRequest:w},u[20]=N,u[21]=C,u[22]=S,u[23]=w,u[24]=d):d=u[24],d}},89466:(e,t,a)=>{a.d(t,{J:()=>c});var n=a(16522),s=a(97286),i=a(3433),l=a(79634);async function r(e,t){if(!e)throw Error("No globalID provided");let a=new URL(`/copilot/tasks/pull/${e}`,window.location.origin);t&&a.searchParams.set("session_id",t);let n=await fetch(a.toString(),{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(!n.ok)throw Error(`Failed to fetch task payload for ${e}`);return await n.json()}let o=["pull","sessions","currentUser","currentUserCanPush","steeringEnabled","logsPollingInterval","sessionsPollingInterval"];function c(){let e,t,a,c,d=(0,n.c)(11),u=(0,l.X)(),{globalID:m}=(0,i.g)(),[h]=(0,i.ok)();d[0]!==h?(e=h.get("session_id"),d[0]=h,d[1]=e):e=d[1];let p=e,_=u&&"object"==typeof u&&null!==u&&o.every(e=>e in u)&&m&&u.pull&&u.pull.global_relay_id===m?u:void 0;d[2]!==m||d[3]!==p?(t=["agent-task-payload",m,p],a=()=>r(m,p),d[2]=m,d[3]=p,d[4]=t,d[5]=a):(t=d[4],a=d[5]);let f=!!m&&!_;return d[6]!==t||d[7]!==a||d[8]!==f||d[9]!==_?(c={queryKey:t,queryFn:a,initialData:_,enabled:f,staleTime:1/0},d[6]=t,d[7]=a,d[8]=f,d[9]=_,d[10]=c):c=d[10],(0,s.I)(c)}},95254:(e,t,a)=>{a.d(t,{L:()=>s});var n=a(47723);function s(e){if(e&&0!==e.length)for(let t of e){let e=function(e){let t=`${n.qY}::`;if(!e.startsWith(t))return;let a=e.slice(t.length),s=a.indexOf("::");if(-1!==s)return a.slice(0,s)||void 0}(t);if(e)return e}}}}]);
//# sourceMappingURL=43295-3ebf21fc1e1d.js.map